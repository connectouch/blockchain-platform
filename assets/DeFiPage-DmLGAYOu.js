import{j as e,a as W,S as G,al as re,i as q,m as S,U as Y,E as T,l as D,R as z,_ as A,am as le,D as K,I as X,n as I,ah as H,a0 as O,$ as V,T as ne,Z as ce,g as de,an as _,K as oe,C as me,a3 as xe,A as he}from"./ui-CIGGqqhk.js";import{r as d}from"./router-B3YxnSyQ.js";import{u as ge}from"./web3-CeUyKLFI.js";import{u as ue,c as P,d as pe}from"./index-CzZ89WQn.js";import{L as fe}from"./LoadingSpinner-Bh1ygWPB.js";import"./vendor-DBnw6Ey0.js";import"./utils-C0Bg54wM.js";import"@prisma/client";import"redis";import"pg";const be=({protocols:w,className:f=""})=>{const[h,v]=d.useState([]),[l,u]=d.useState(null),[b,C]=d.useState(""),[n,x]=d.useState("tvl"),[g,p]=d.useState("desc"),[k,F]=d.useState("all"),[L,N]=d.useState(!0);d.useEffect(()=>{const t=()=>{const m=w.map((i,y)=>({id:i.id||`protocol-${y}`,name:i.name,category:i.category,tvl:i.tvl,apy:i.apy||0,volume24h:i.volume24h||i.tvl*.1,users:i.users||Math.floor(i.tvl/1e4),chains:i.chains||["Ethereum"],description:i.description||`${i.name} is a leading ${i.category} protocol offering innovative DeFi solutions.`,riskScore:Math.floor(Math.random()*3)+7,auditStatus:["audited","audited","audited","pending"][Math.floor(Math.random()*4)],lastAudit:"2024-01-15",fees:{deposit:Math.random()*.5,withdrawal:Math.random()*.5,performance:Math.random()*2+1},tokenomics:{token:i.name.substring(0,4).toUpperCase(),totalSupply:Math.floor(Math.random()*9e8)+1e8,circulatingSupply:Math.floor(Math.random()*5e8)+5e7,marketCap:i.tvl*(.1+Math.random()*.3)},metrics:{tvlChange7d:(Math.random()-.5)*20,apyChange7d:(Math.random()-.5)*5,volumeChange7d:(Math.random()-.5)*30,userGrowth7d:Math.random()*15},website:`https://${i.name.toLowerCase().replace(/\s+/g,"")}.com`,documentation:`https://docs.${i.name.toLowerCase().replace(/\s+/g,"")}.com`,github:`https://github.com/${i.name.toLowerCase().replace(/\s+/g,"")}`}));v(m),N(!1)};w.length>0&&t()},[w]);const a=h.filter(t=>{const m=t.name.toLowerCase().includes(b.toLowerCase())||t.category.toLowerCase().includes(b.toLowerCase()),i=k==="all"||t.category===k;return m&&i}).sort((t,m)=>{const i=t[n],y=m[n],j=g==="desc"?-1:1;return(i>y?1:-1)*j}),s=["all",...Array.from(new Set(h.map(t=>t.category)))],c=(t,m="")=>{const i=typeof t=="number"&&!isNaN(t)?t:0;return i>=1e9?`${m}${(i/1e9).toFixed(1)}B`:i>=1e6?`${m}${(i/1e6).toFixed(1)}M`:i>=1e3?`${m}${(i/1e3).toFixed(1)}K`:`${m}${i.toFixed(2)}`},o=t=>t>=8?"text-green-400":t>=6?"text-yellow-400":"text-red-400",r=t=>{const m={audited:{color:"text-green-400",bg:"bg-green-400/20",icon:A},pending:{color:"text-yellow-400",bg:"bg-yellow-400/20",icon:z},unaudited:{color:"text-red-400",bg:"bg-red-400/20",icon:D}};return m[t]||m.unaudited};return L?e.jsx("div",{className:`glass-card p-6 ${f}`,children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-white/10 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-white/5 rounded w-2/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((t,m)=>e.jsx("div",{className:"h-32 bg-white/5 rounded-lg"},m))})]})}):e.jsxs("div",{className:`glass-card p-6 ${f}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Protocol Deep Dive"})]}),e.jsxs("div",{className:"text-sm text-white/60",children:[a.length," protocols"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search protocols...",value:b,onChange:t=>C(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-blue-400"})]}),e.jsx("select",{value:k,onChange:t=>F(t.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-blue-400",children:s.map(t=>e.jsx("option",{value:t,className:"bg-gray-800",children:t==="all"?"All Categories":t},t))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:n,onChange:t=>x(t.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white text-sm focus:outline-none focus:border-blue-400",children:[e.jsx("option",{value:"tvl",className:"bg-gray-800",children:"TVL"}),e.jsx("option",{value:"apy",className:"bg-gray-800",children:"APY"}),e.jsx("option",{value:"volume",className:"bg-gray-800",children:"Volume"}),e.jsx("option",{value:"users",className:"bg-gray-800",children:"Users"}),e.jsx("option",{value:"risk",className:"bg-gray-800",children:"Risk Score"})]}),e.jsx("button",{onClick:()=>p(g==="desc"?"asc":"desc"),className:"p-2 bg-white/10 border border-white/20 rounded-lg hover:bg-white/20 transition-colors",children:e.jsx(re,{className:"w-4 h-4 text-white/60"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:e.jsx(q,{children:a.slice(0,9).map((t,m)=>{const i=r(t.auditStatus),y=i.icon;return e.jsxs(S.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:m*.05},onClick:()=>u(t),className:"p-4 bg-white/5 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/10 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium text-sm group-hover:text-blue-400 transition-colors",children:t.name}),e.jsx("span",{className:"text-xs text-white/60",children:t.category})]}),e.jsx("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full ${i.bg}`,children:e.jsx(y,{className:`w-3 h-3 ${i.color}`})})]}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"TVL"}),e.jsx("span",{className:"text-white font-medium",children:c(t.tvl,"$")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"APY"}),e.jsxs("span",{className:"text-green-400 font-medium",children:[(typeof t.apy=="number"&&!isNaN(t.apy)?t.apy:0).toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Risk Score"}),e.jsxs("span",{className:`font-medium ${o(t.riskScore)}`,children:[t.riskScore,"/10"]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Y,{className:"w-3 h-3 text-white/40"}),e.jsx("span",{className:"text-xs text-white/60",children:c(t.users)})]}),e.jsx("div",{className:"flex items-center gap-1",children:t.chains.slice(0,2).map(j=>e.jsx("span",{className:"text-xs text-blue-400 bg-blue-400/20 px-1.5 py-0.5 rounded",children:j.substring(0,3)},j))})]})})]},t.id)})})}),e.jsx(q,{children:l&&e.jsx(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>u(null),children:e.jsxs(S.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:t=>t.stopPropagation(),className:"bg-gray-900/95 backdrop-blur-xl border border-white/20 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:l.name}),e.jsx("p",{className:"text-white/60",children:l.category})]}),e.jsx("button",{onClick:()=>u(null),className:"text-white/60 hover:text-white",children:"âœ•"})]}),e.jsx("p",{className:"text-white/70 text-sm mb-6",children:l.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:c(l.tvl,"$")}),e.jsx("div",{className:"text-xs text-white/60",children:"Total Value Locked"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[(typeof l.apy=="number"&&!isNaN(l.apy)?l.apy:0).toFixed(2),"%"]}),e.jsx("div",{className:"text-xs text-white/60",children:"APY"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:c(l.users)}),e.jsx("div",{className:"text-xs text-white/60",children:"Active Users"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${o(l.riskScore)}`,children:[l.riskScore,"/10"]}),e.jsx("div",{className:"text-xs text-white/60",children:"Risk Score"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Fee Structure"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Deposit: "}),e.jsxs("span",{className:"text-white",children:[(typeof l.fees.deposit=="number"&&!isNaN(l.fees.deposit)?l.fees.deposit:0).toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Withdrawal: "}),e.jsxs("span",{className:"text-white",children:[(typeof l.fees.withdrawal=="number"&&!isNaN(l.fees.withdrawal)?l.fees.withdrawal:0).toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Performance: "}),e.jsxs("span",{className:"text-white",children:[(typeof l.fees.performance=="number"&&!isNaN(l.fees.performance)?l.fees.performance:0).toFixed(2),"%"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Links"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("a",{href:l.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-1",children:["Website ",e.jsx(T,{className:"w-3 h-3"})]}),e.jsxs("a",{href:l.documentation,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-1",children:["Docs ",e.jsx(T,{className:"w-3 h-3"})]}),l.github&&e.jsxs("a",{href:l.github,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-1",children:["GitHub ",e.jsx(T,{className:"w-3 h-3"})]})]})]})]})]})})}),e.jsx("div",{className:"mt-4 pt-3 border-t border-white/10",children:e.jsxs("button",{className:"w-full text-center text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:["View All ",h.length," Protocols â†’"]})})]})},we=({protocols:w=[],className:f=""})=>{const[h,v]=d.useState(1e4),[l,u]=d.useState(""),[b,C]=d.useState(365),[n,x]=d.useState("daily"),[g,p]=d.useState(null),[k,F]=d.useState([]),[L,N]=d.useState(!1);d.useEffect(()=>{(()=>{const t=[{id:"stable-farming",name:"Stable Coin Farming",protocol:"Compound",apy:4.5,riskLevel:"low",minDeposit:100,lockPeriod:0,fees:{deposit:0,withdrawal:0,performance:0},description:"Low-risk farming with stablecoins like USDC/USDT",pros:["Low risk","No impermanent loss","Stable returns"],cons:["Lower yields","Inflation risk"]},{id:"eth-staking",name:"ETH Liquid Staking",protocol:"Lido",apy:5.2,riskLevel:"medium",minDeposit:.1,lockPeriod:0,fees:{deposit:0,withdrawal:0,performance:10},description:"Stake ETH while maintaining liquidity through stETH",pros:["Liquid staking","ETH exposure","Decent yields"],cons:["Smart contract risk","Slashing risk"]},{id:"defi-blue-chip",name:"Blue Chip DeFi",protocol:"Aave",apy:8.7,riskLevel:"medium",minDeposit:1e3,lockPeriod:0,fees:{deposit:.1,withdrawal:.1,performance:0},description:"Lending on established protocols like Aave, Compound",pros:["Established protocols","Good liquidity","Proven track record"],cons:["Moderate risk","Variable rates"]},{id:"high-yield-farming",name:"High Yield Farming",protocol:"PancakeSwap",apy:45.8,riskLevel:"high",minDeposit:500,lockPeriod:30,fees:{deposit:.25,withdrawal:.25,performance:2},description:"High-risk, high-reward farming on newer protocols",pros:["Very high yields","Early adopter advantage"],cons:["High risk","Impermanent loss","Rug pull risk"]}],m=w.slice(0,3).map((i,y)=>{const j=typeof i.apy=="number"&&!isNaN(i.apy)?i.apy:0;return{id:`protocol-${y}`,name:`${i.name} Farming`,protocol:i.name,apy:j,riskLevel:j>20?"high":j>10?"medium":"low",minDeposit:100,lockPeriod:Math.floor(Math.random()*90),fees:{deposit:Math.random()*.5,withdrawal:Math.random()*.5,performance:Math.random()*3},description:`Yield farming on ${i.name} protocol`,pros:["Protocol specific benefits","Competitive yields"],cons:["Protocol risk","Market volatility"]}});F([...t,...m])})()},[w]);const a=()=>{!l||h<=0||(N(!0),setTimeout(()=>{const r=k.find(ie=>ie.id===l);if(!r)return;const t=typeof r.apy=="number"&&!isNaN(r.apy)?r.apy:0,m=t/100,i=b,y={daily:365,weekly:52,monthly:12,yearly:1}[n],j=h*Math.pow(1+m/y,y*(i/365)),M=j-h,R=typeof r.fees.deposit=="number"?r.fees.deposit:0,$=typeof r.fees.withdrawal=="number"?r.fees.withdrawal:0,Z=typeof r.fees.performance=="number"?r.fees.performance:0,Q=h*(R/100),J=j*($/100),ee=M*(Z/100),E=Q+J+ee,U=M-E,se=U/h*(365/i)*100,B=U/i,te=B*30,ae={principal:h,apy:t,timeframe:i,compoundFrequency:n,fees:r.fees,results:{finalAmount:j-E,totalEarnings:M,netEarnings:U,totalFees:E,effectiveAPY:se,dailyEarnings:B,monthlyEarnings:te}};p(ae),N(!1)},500))};d.useEffect(()=>{l&&h>0&&a()},[l,h,b,n]);const s=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(r),c=r=>({low:"text-green-400",medium:"text-yellow-400",high:"text-red-400"})[r]||"text-gray-400",o=r=>({low:"bg-green-400/20",medium:"bg-yellow-400/20",high:"bg-red-400/20"})[r]||"bg-gray-400/20";return e.jsxs("div",{className:`glass-card p-6 ${f}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(le,{className:"w-5 h-5 text-green-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Yield Farming Calculator"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Investment Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/40"}),e.jsx("input",{type:"number",value:h,onChange:r=>v(Number(r.target.value)),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-green-400",placeholder:"10000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Yield Strategy"}),e.jsxs("select",{value:l,onChange:r=>u(r.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-green-400",children:[e.jsx("option",{value:"",className:"bg-gray-800",children:"Select a strategy..."}),k.map(r=>e.jsxs("option",{value:r.id,className:"bg-gray-800",children:[r.name," - ",(typeof r.apy=="number"&&!isNaN(r.apy)?r.apy:0).toFixed(1),"% APY"]},r.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Time Period (days)"}),e.jsx("input",{type:"number",value:b,onChange:r=>C(Number(r.target.value)),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-green-400",min:"1",max:"3650"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Compounding"}),e.jsxs("select",{value:n,onChange:r=>x(r.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-green-400",children:[e.jsx("option",{value:"daily",className:"bg-gray-800",children:"Daily"}),e.jsx("option",{value:"weekly",className:"bg-gray-800",children:"Weekly"}),e.jsx("option",{value:"monthly",className:"bg-gray-800",children:"Monthly"}),e.jsx("option",{value:"yearly",className:"bg-gray-800",children:"Yearly"})]})]})]}),l&&e.jsx("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:(()=>{const r=k.find(t=>t.id===l);return r?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-white font-medium",children:r.name}),e.jsx("div",{className:`px-2 py-1 rounded-full ${o(r.riskLevel)}`,children:e.jsxs("span",{className:`text-xs font-medium ${c(r.riskLevel)} capitalize`,children:[r.riskLevel," Risk"]})})]}),e.jsx("p",{className:"text-white/60 text-sm mb-3",children:r.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/50",children:"Protocol: "}),e.jsx("span",{className:"text-white",children:r.protocol})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/50",children:"Min Deposit: "}),e.jsx("span",{className:"text-white",children:s(r.minDeposit)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/50",children:"Lock Period: "}),e.jsxs("span",{className:"text-white",children:[r.lockPeriod," days"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/50",children:"Performance Fee: "}),e.jsxs("span",{className:"text-white",children:[r.fees.performance,"%"]})]})]})]}):null})()})]}),e.jsx("div",{className:"space-y-4",children:L?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(z,{className:"w-6 h-6 text-green-400 animate-spin"}),e.jsx("span",{className:"ml-2 text-white/60",children:"Calculating..."})]}):g?e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-400/10 border border-green-400/20 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:s(g.results.finalAmount)}),e.jsx("div",{className:"text-xs text-white/60",children:"Final Amount"})]}),e.jsxs("div",{className:"p-4 bg-blue-400/10 border border-blue-400/20 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:s(g.results.netEarnings)}),e.jsx("div",{className:"text-xs text-white/60",children:"Net Earnings"})]})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Earnings Breakdown"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Gross Earnings:"}),e.jsx("span",{className:"text-white",children:s(g.results.totalEarnings)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Total Fees:"}),e.jsxs("span",{className:"text-red-400",children:["-",s(g.results.totalFees)]})]}),e.jsxs("div",{className:"flex justify-between border-t border-white/10 pt-2",children:[e.jsx("span",{className:"text-white/60",children:"Net Earnings:"}),e.jsx("span",{className:"text-green-400 font-medium",children:s(g.results.netEarnings)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Effective APY:"}),e.jsxs("span",{className:"text-blue-400 font-medium",children:[(typeof g.results.effectiveAPY=="number"&&!isNaN(g.results.effectiveAPY)?g.results.effectiveAPY:0).toFixed(2),"%"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg text-center",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:s(g.results.dailyEarnings)}),e.jsx("div",{className:"text-xs text-white/60",children:"Daily Earnings"})]}),e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg text-center",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:s(g.results.monthlyEarnings)}),e.jsx("div",{className:"text-xs text-white/60",children:"Monthly Earnings"})]})]}),e.jsx("div",{className:"p-3 bg-yellow-400/10 border border-yellow-400/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs text-white/70",children:[e.jsx("strong",{className:"text-yellow-400",children:"Risk Warning:"})," Past performance doesn't guarantee future results. DeFi protocols carry smart contract, liquidity, and market risks. Only invest what you can afford to lose."]})]})})]}):e.jsxs("div",{className:"flex items-center justify-center py-12 text-white/60",children:[e.jsx(X,{className:"w-5 h-5 mr-2"}),"Select a strategy to see calculations"]})})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-white/10",children:e.jsx("button",{className:"w-full text-center text-green-400 hover:text-green-300 text-sm font-medium transition-colors",children:"Explore Advanced Strategies â†’"})})]})},je=({protocols:w=[],selectedProtocol:f,className:h=""})=>{const[v,l]=d.useState([]),[u,b]=d.useState(f||""),[C,n]=d.useState(!0),[x,g]=d.useState(!1);d.useEffect(()=>{const s=()=>{const c=w.map((o,r)=>{const t=[{id:"smart-contract",name:"Smart Contract Security",score:Math.floor(Math.random()*3)+7,weight:.25,description:"Code quality and security audit results",status:"good",details:["Multiple audits completed","No critical vulnerabilities","Bug bounty program active"]},{id:"liquidity",name:"Liquidity Risk",score:Math.floor(Math.random()*4)+6,weight:.2,description:"Protocol liquidity and exit capability",status:o.tvl>1e8?"good":"warning",details:["High TVL provides good liquidity","Multiple exit routes available"]},{id:"centralization",name:"Centralization Risk",score:Math.floor(Math.random()*5)+5,weight:.15,description:"Governance and control distribution",status:"warning",details:["Some admin keys present","Governance token distribution could be better"]},{id:"market",name:"Market Risk",score:Math.floor(Math.random()*4)+5,weight:.15,description:"Market volatility and correlation risks",status:"warning",details:["High correlation with ETH","Volatile market conditions"]},{id:"regulatory",name:"Regulatory Risk",score:Math.floor(Math.random()*3)+6,weight:.1,description:"Regulatory compliance and legal risks",status:"good",details:["Operating in compliant jurisdictions","Legal framework established"]},{id:"operational",name:"Operational Risk",score:Math.floor(Math.random()*4)+6,weight:.15,description:"Team competency and operational stability",status:"good",details:["Experienced team","Strong operational track record"]}],m=t.reduce((R,$)=>R+$.score*$.weight,0);let i;m>=8.5?i="low":m>=7?i="medium":m>=5?i="high":i="critical";const y=[{firm:"CertiK",date:"2024-01-15",status:"passed",criticalIssues:0,mediumIssues:Math.floor(Math.random()*3),lowIssues:Math.floor(Math.random()*5)+1,reportUrl:"#"},{firm:"ConsenSys Diligence",date:"2023-11-20",status:"passed",criticalIssues:0,mediumIssues:Math.floor(Math.random()*2),lowIssues:Math.floor(Math.random()*4)+2,reportUrl:"#"}],j=["Consider diversifying across multiple protocols","Monitor TVL changes for liquidity risks","Stay updated on governance proposals","Set up price alerts for significant movements"],M=i==="high"||i==="critical"?["High risk protocol - invest only what you can afford to lose","Consider smaller position sizes","Monitor closely for any changes"]:[];return{id:o.id||`protocol-${r}`,name:o.name,overallScore:m,riskLevel:i,factors:t,audits:y,tvlHistory:[],lastUpdated:new Date().toISOString(),recommendations:j,warnings:M}});l(c),c.length>0&&!u&&b(c[0].id),n(!1)};w.length>0&&s()},[w,f]);const p=v.find(s=>s.id===u),k=s=>{const c={low:{color:"text-green-400",bg:"bg-green-400/20",border:"border-green-400/30",icon:A},medium:{color:"text-yellow-400",bg:"bg-yellow-400/20",border:"border-yellow-400/30",icon:D},high:{color:"text-orange-400",bg:"bg-orange-400/20",border:"border-orange-400/30",icon:D},critical:{color:"text-red-400",bg:"bg-red-400/20",border:"border-red-400/30",icon:H}};return c[s]||c.medium},F=s=>{const c={good:{color:"text-green-400",icon:A},warning:{color:"text-yellow-400",icon:D},critical:{color:"text-red-400",icon:H}};return c[s]||c.warning},L=s=>{const c={passed:{color:"text-green-400",bg:"bg-green-400/20"},failed:{color:"text-red-400",bg:"bg-red-400/20"},pending:{color:"text-yellow-400",bg:"bg-yellow-400/20"}};return c[s]||c.pending};if(C)return e.jsxs("div",{className:`glass-card p-6 ${h}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(I,{className:"w-5 h-5 text-red-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Risk Assessment"}),e.jsx(z,{className:"w-4 h-4 text-white/60 animate-spin"})]}),e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-white/10 rounded w-1/2"}),e.jsx("div",{className:"h-20 bg-white/5 rounded"}),e.jsx("div",{className:"h-32 bg-white/5 rounded"})]})]});if(!p)return e.jsxs("div",{className:`glass-card p-6 ${h}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(I,{className:"w-5 h-5 text-red-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Risk Assessment"})]}),e.jsxs("div",{className:"text-center py-8 text-white/60",children:[e.jsx(X,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{children:"No protocol selected for risk assessment"})]})]});const N=k(p.riskLevel),a=N.icon;return e.jsxs("div",{className:`glass-card p-6 ${h}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-red-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Risk Assessment"})]}),e.jsx("button",{onClick:()=>g(!x),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:x?"Hide Details":"Show Details"})]}),v.length>1&&e.jsx("div",{className:"mb-4",children:e.jsx("select",{value:u,onChange:s=>b(s.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-red-400",children:v.map(s=>e.jsx("option",{value:s.id,className:"bg-gray-800",children:s.name},s.id))})}),e.jsx("div",{className:`p-4 rounded-lg border ${N.border} ${N.bg} mb-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:p.name}),e.jsx("p",{className:"text-white/60 text-sm",children:"Overall Risk Assessment"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(a,{className:`w-5 h-5 ${N.color}`}),e.jsx("span",{className:`text-lg font-bold ${N.color} capitalize`,children:p.riskLevel})]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[(typeof p.overallScore=="number"&&!isNaN(p.overallScore)?p.overallScore:0).toFixed(1),"/10"]})]})]})}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h4",{className:"text-white font-medium",children:"Risk Factors"}),p.factors.map(s=>{const c=F(s.status),o=c.icon;return e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:`w-4 h-4 ${c.color}`}),e.jsx("span",{className:"text-white text-sm font-medium",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-white/60",children:["Weight: ",(typeof s.weight=="number"&&!isNaN(s.weight)?s.weight*100:0).toFixed(0),"%"]}),e.jsxs("span",{className:"text-white font-medium",children:[s.score,"/10"]})]})]}),e.jsx("p",{className:"text-white/60 text-xs mb-2",children:s.description}),x&&e.jsx(S.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-white/10 pt-2",children:e.jsx("ul",{className:"space-y-1",children:s.details.map((r,t)=>e.jsxs("li",{className:"text-xs text-white/50 flex items-start gap-2",children:[e.jsx("span",{className:"text-white/30 mt-1",children:"â€¢"}),e.jsx("span",{children:r})]},t))})})]},s.id)})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Security Audits"}),e.jsx("div",{className:"space-y-2",children:p.audits.map((s,c)=>{const o=L(s.status);return e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white text-sm font-medium",children:s.firm}),e.jsx("div",{className:`px-2 py-1 rounded-full ${o.bg}`,children:e.jsx("span",{className:`text-xs ${o.color} capitalize`,children:s.status})})]}),e.jsx("span",{className:"text-xs text-white/60",children:s.date})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-red-400",children:["Critical: ",s.criticalIssues]}),e.jsxs("span",{className:"text-yellow-400",children:["Medium: ",s.mediumIssues]}),e.jsxs("span",{className:"text-green-400",children:["Low: ",s.lowIssues]})]}),s.reportUrl&&e.jsxs("a",{href:s.reportUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 flex items-center gap-1",children:["Report ",e.jsx(T,{className:"w-3 h-3"})]})]})]},c)})})]}),p.warnings.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"p-3 bg-red-400/10 border border-red-400/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-red-400 font-medium text-sm mb-1",children:"Risk Warnings"}),e.jsx("ul",{className:"space-y-1",children:p.warnings.map((s,c)=>e.jsxs("li",{className:"text-xs text-white/70",children:["â€¢ ",s]},c))})]})]})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Recommendations"}),e.jsx("div",{className:"space-y-2",children:p.recommendations.map((s,c)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs text-white/70",children:[e.jsx(A,{className:"w-3 h-3 text-green-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:s})]},c))})]}),e.jsxs("div",{className:"pt-4 border-t border-white/10 text-xs text-white/50",children:["Last updated: ",new Date(p.lastUpdated).toLocaleDateString()]})]})},Ne=({protocols:w=[],className:f=""})=>{const[h,v]=d.useState([]),[l,u]=d.useState("all"),[b,C]=d.useState("all"),[n,x]=d.useState(""),[g,p]=d.useState(!0);d.useEffect(()=>{(()=>{const s=[{id:"defi-basics",title:"DeFi Fundamentals",description:"Learn the basics of Decentralized Finance, key concepts, and how it differs from traditional finance.",category:"basics",difficulty:"beginner",duration:15,steps:5,completedSteps:0,rating:4.8,enrollments:12500,tags:["fundamentals","introduction","concepts"],prerequisites:[],learningOutcomes:["Understand what DeFi is and how it works","Learn key DeFi terminology","Identify major DeFi use cases","Understand risks and benefits"],isCompleted:!1,progress:0},{id:"wallet-setup",title:"Setting Up Your DeFi Wallet",description:"Step-by-step guide to setting up MetaMask and other wallets for DeFi interactions.",category:"basics",difficulty:"beginner",duration:10,steps:4,completedSteps:4,rating:4.9,enrollments:15200,tags:["wallet","metamask","setup","security"],prerequisites:[],learningOutcomes:["Install and configure MetaMask","Understand private key security","Connect to different networks","Manage multiple accounts"],isCompleted:!0,progress:100},{id:"uniswap-trading",title:"Trading on Uniswap",description:"Learn how to swap tokens, provide liquidity, and understand automated market makers.",category:"dex",difficulty:"intermediate",duration:25,steps:8,completedSteps:3,rating:4.7,enrollments:8900,tags:["uniswap","amm","trading","liquidity"],protocol:"Uniswap",prerequisites:["DeFi Fundamentals","Wallet Setup"],learningOutcomes:["Execute token swaps on Uniswap","Understand slippage and price impact","Provide liquidity to pools","Calculate impermanent loss"],isCompleted:!1,progress:37.5},{id:"aave-lending",title:"Lending and Borrowing on Aave",description:"Master lending protocols, collateralization, and earning yield on your crypto assets.",category:"lending",difficulty:"intermediate",duration:30,steps:10,completedSteps:0,rating:4.6,enrollments:7200,tags:["aave","lending","borrowing","collateral"],protocol:"Aave",prerequisites:["DeFi Fundamentals"],learningOutcomes:["Lend assets to earn interest","Understand collateralization ratios","Borrow against collateral","Manage liquidation risks"],isCompleted:!1,progress:0},{id:"yield-farming-strategies",title:"Advanced Yield Farming",description:"Explore complex yield farming strategies, risk management, and optimization techniques.",category:"yield-farming",difficulty:"advanced",duration:45,steps:12,completedSteps:0,rating:4.5,enrollments:3800,tags:["yield-farming","strategies","optimization","risk"],prerequisites:["Trading on Uniswap","Lending and Borrowing"],learningOutcomes:["Design yield farming strategies","Understand IL and mitigation","Use leverage responsibly","Optimize gas costs"],isCompleted:!1,progress:0},{id:"defi-security",title:"DeFi Security Best Practices",description:"Learn how to protect yourself from scams, exploits, and common security pitfalls.",category:"basics",difficulty:"intermediate",duration:20,steps:6,completedSteps:2,rating:4.9,enrollments:9500,tags:["security","safety","scams","best-practices"],prerequisites:["DeFi Fundamentals"],learningOutcomes:["Identify common DeFi scams","Verify smart contracts","Use hardware wallets safely","Implement security checklists"],isCompleted:!1,progress:33.3}],c=w.slice(0,3).map((o,r)=>({id:`protocol-${o.name.toLowerCase()}`,title:`Getting Started with ${o.name}`,description:`Complete guide to using ${o.name} protocol for ${o.category.toLowerCase()}.`,category:o.category.toLowerCase().includes("lending")?"lending":"dex",difficulty:"intermediate",duration:20,steps:7,completedSteps:0,rating:4+Math.random()*.8,enrollments:Math.floor(Math.random()*5e3)+1e3,tags:[o.name.toLowerCase(),o.category.toLowerCase(),"tutorial"],protocol:o.name,prerequisites:["DeFi Fundamentals"],learningOutcomes:[`Navigate ${o.name} interface`,`Execute transactions on ${o.name}`,"Understand protocol-specific risks","Optimize your strategy"],isCompleted:!1,progress:0}));v([...s,...c]),p(!1)})()},[w]);const k=h.filter(a=>{const s=l==="all"||a.category===l,c=b==="all"||a.difficulty===b,o=a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase())||a.tags.some(r=>r.toLowerCase().includes(n.toLowerCase()));return s&&c&&o}),F=[{id:"all",name:"All Categories",icon:O},{id:"basics",name:"Basics",icon:V},{id:"lending",name:"Lending",icon:ne},{id:"dex",name:"DEX Trading",icon:ce},{id:"yield-farming",name:"Yield Farming",icon:de},{id:"advanced",name:"Advanced",icon:_}],L=a=>({beginner:"text-green-400",intermediate:"text-yellow-400",advanced:"text-red-400"})[a]||"text-gray-400",N=a=>({basics:"text-blue-400",lending:"text-green-400",dex:"text-purple-400","yield-farming":"text-orange-400",advanced:"text-red-400"})[a]||"text-gray-400";return g?e.jsx("div",{className:`glass-card p-6 ${f}`,children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-white/10 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((a,s)=>e.jsx("div",{className:"h-32 bg-white/5 rounded-lg"},s))})]})}):e.jsxs("div",{className:`glass-card p-6 ${f}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(O,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"DeFi Learning Hub"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search tutorials...",value:n,onChange:a=>x(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-blue-400"})]}),e.jsxs("select",{value:b,onChange:a=>C(a.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-blue-400",children:[e.jsx("option",{value:"all",className:"bg-gray-800",children:"All Levels"}),e.jsx("option",{value:"beginner",className:"bg-gray-800",children:"Beginner"}),e.jsx("option",{value:"intermediate",className:"bg-gray-800",children:"Intermediate"}),e.jsx("option",{value:"advanced",className:"bg-gray-800",children:"Advanced"})]})]}),e.jsx("div",{className:"flex items-center gap-2 mb-6 overflow-x-auto pb-2",children:F.map(a=>{const s=a.icon;return e.jsxs("button",{onClick:()=>u(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${l===a.id?"bg-blue-400/20 text-blue-400 border border-blue-400/30":"bg-white/5 text-white/60 hover:text-white hover:bg-white/10"}`,children:[e.jsx(s,{className:"w-4 h-4"}),e.jsx("span",{children:a.name})]},a.id)})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:e.jsx(q,{children:k.map((a,s)=>e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:s*.05},className:"p-4 bg-white/5 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/10 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-white font-medium text-sm group-hover:text-blue-400 transition-colors",children:a.title}),a.isCompleted&&e.jsx(A,{className:"w-4 h-4 text-green-400"})]}),e.jsx("p",{className:"text-white/60 text-xs line-clamp-2 mb-2",children:a.description})]}),e.jsx(oe,{className:"w-4 h-4 text-white/40 group-hover:text-white/60 flex-shrink-0"})]}),a.progress&&a.progress>0&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-white/60",children:"Progress"}),e.jsxs("span",{className:"text-white/60",children:[(typeof a.progress=="number"&&!isNaN(a.progress)?a.progress:0).toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(me,{className:"w-3 h-3 text-white/40"}),e.jsxs("span",{className:"text-white/60",children:[a.duration,"m"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3 text-white/40"}),e.jsxs("span",{className:"text-white/60",children:[a.steps," steps"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{className:"text-white/60",children:(typeof a.rating=="number"&&!isNaN(a.rating)?a.rating:0).toFixed(1)})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Y,{className:"w-3 h-3 text-white/40"}),e.jsxs("span",{className:"text-white/60",children:[(typeof a.enrollments=="number"&&!isNaN(a.enrollments)?a.enrollments/1e3:0).toFixed(1),"K"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-white/10 ${N(a.category)}`,children:a.category}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-white/10 ${L(a.difficulty)}`,children:a.difficulty})]}),a.protocol&&e.jsx("span",{className:"text-xs text-blue-400 bg-blue-400/20 px-2 py-1 rounded",children:a.protocol})]}),e.jsx("div",{className:"flex items-center gap-1 mt-3 flex-wrap",children:a.tags.slice(0,3).map(c=>e.jsxs("span",{className:"text-xs text-white/50 bg-white/5 px-1.5 py-0.5 rounded",children:["#",c]},c))})]},a.id))})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-400/10 to-purple-400/10 border border-blue-400/20 rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium text-sm mb-1",children:"Recommended Learning Path"}),e.jsx("p",{className:"text-white/70 text-xs mb-2",children:"Start with DeFi Fundamentals â†’ Wallet Setup â†’ Choose your specialization (Lending, DEX, or Yield Farming)"}),e.jsx("button",{className:"text-blue-400 hover:text-blue-300 text-xs font-medium transition-colors",children:"View Full Learning Path â†’"})]})]})}),e.jsx("div",{className:"pt-4 border-t border-white/10",children:e.jsxs("button",{className:"w-full text-center text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:["Browse All ",h.length," Tutorials â†’"]})})]})},$e=()=>{const{setAIContext:w}=ue(),[f,h]=d.useState([]),[v,l]=d.useState(new Date);d.useEffect(()=>{w("defi",{page:"defi",protocols:[]})},[]),d.useEffect(()=>((async()=>{try{await P.initialize(),P.on("defiUpdated",g=>{h(g),l(new Date)});const x=P.getDeFiProtocols();h(x)}catch(x){console.warn("Real-time DeFi data initialization failed:",x)}})(),()=>{P.removeAllListeners()}),[]);const{data:u=[],isLoading:b,error:C}=ge({queryKey:["defi","protocols"],queryFn:pe.getDeFiProtocols,staleTime:1e3*60*5,retry:3,retryDelay:1e3});return e.jsx("div",{className:"min-h-screen py-20 px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(S.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(K,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"DeFi Hub"}),e.jsx("p",{className:"text-xl text-white/70 max-w-2xl mx-auto",children:"Comprehensive DeFi analysis, yield farming optimization, and protocol insights powered by AI"})]}),b&&e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(fe,{})}),C&&e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"glass-card p-8 max-w-md mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-red-400 mb-4",children:"Error Loading DeFi Data"}),e.jsx("p",{className:"text-white/70",children:"Unable to fetch protocol data. Please try again later."})]})}),f.length>0&&e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Real-Time DeFi Metrics"}),e.jsxs("span",{className:"text-sm text-green-400",children:["Updated: ",v.toLocaleTimeString()]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 text-sm",children:"Total TVL"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",(f.reduce((n,x)=>n+x.tvl,0)/1e9).toFixed(2),"B"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 text-sm",children:"Protocols"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:f.length})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 text-sm",children:"Avg APY"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[(f.reduce((n,x)=>n+x.apy,0)/f.length).toFixed(1),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 text-sm",children:"Top Protocol"}),e.jsx("p",{className:"text-lg font-bold text-white",children:f.sort((n,x)=>x.tvl-n.tvl)[0]?.name.slice(0,10)})]})]})]})}),!b&&!C&&u.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:u.map((n,x)=>e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:x*.1},className:"glass-card p-6 hover:scale-105 transition-transform duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:n.name}),e.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:n.category})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/70",children:"TVL"}),e.jsxs("span",{className:"text-white font-semibold",children:["$",(n.tvl/1e9).toFixed(2),"B"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/70",children:"24h Change"}),e.jsxs("span",{className:`font-semibold ${n.change_1d>=0?"text-green-400":"text-red-400"}`,children:[n.change_1d>=0?"+":"",n.change_1d.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/70",children:"7d Change"}),e.jsxs("span",{className:`font-semibold ${n.change_7d>=0?"text-green-400":"text-red-400"}`,children:[n.change_7d>=0?"+":"",n.change_7d.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/70",children:"Symbol"}),e.jsx("span",{className:"text-white font-semibold",children:n.symbol})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:n.chains?.slice(0,3).map(g=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs",children:g},g))})})]},n.name))}),e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"mt-16",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(he,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Total TVL"}),e.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["$",(u.reduce((n,x)=>n+x.tvl,0)/1e9).toFixed(1),"B"]})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(W,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Avg 24h Change"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:[(u.reduce((n,x)=>n+x.change_1d,0)/u.length).toFixed(1),"%"]})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(Y,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Protocols"}),e.jsx("p",{className:"text-3xl font-bold text-purple-400",children:u.length})]})]})}),e.jsxs(S.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-16 space-y-8",children:[e.jsx(be,{protocols:u,className:"w-full"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(we,{protocols:u}),e.jsx(je,{protocols:u})]}),e.jsx(Ne,{protocols:u,className:"w-full"})]})]})]})})};export{$e as default};
