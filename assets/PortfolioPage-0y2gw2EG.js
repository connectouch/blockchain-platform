import{j as e,P as de,R as U,D as q,A as ee,av as oe,w as ue,S as _,e as X,f as J,m as v,i as H,a as z,g as B,h as G,n as O,T as Y,l as te,ax as xe,c as me,am as Q,ay as ie,az as he,a1 as se,aA as ge,a3 as ne,C as je,aB as we,aC as Ne,Z as K,E as be,B as V,aa as ve,_ as re,aD as fe,aE as ye,G as Ce,aF as ke}from"./ui-CIGGqqhk.js";import{r as l}from"./router-B3YxnSyQ.js";import{f as ce,c as Z}from"./index-CzZ89WQn.js";import"./vendor-DBnw6Ey0.js";import"./web3-CeUyKLFI.js";import"./utils-C0Bg54wM.js";import"@prisma/client";import"redis";import"pg";const Se=({onWalletConnect:y,onAssetSelect:F})=>{const[k,w]=l.useState([]),[b,o]=l.useState([]),[c,g]=l.useState("all"),[T,f]=l.useState(""),[P,E]=l.useState(!1),[N,S]=l.useState(!1),[n,m]=l.useState(!1),[R,h]=l.useState("");l.useEffect(()=>{const i=[{chainId:"ethereum",name:"Ethereum",symbol:"ETH",logo:"🔷",rpcUrl:"https://mainnet.infura.io/v3/",explorerUrl:"https://etherscan.io",nativeCurrency:{symbol:"ETH",name:"Ethereum",balance:2.5,price:2950,value:7375,change24h:3.2,decimals:18},totalValue:15420,assetCount:8,assets:[{symbol:"USDC",name:"USD Coin",balance:5e3,price:1,value:5e3,change24h:.1,contractAddress:"0xA0b86a33E6417c8f2c8B758628E6B8B8B8B8B8B8",decimals:6},{symbol:"UNI",name:"Uniswap",balance:150,price:8.45,value:1267.5,change24h:-2.1,contractAddress:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",decimals:18},{symbol:"LINK",name:"Chainlink",balance:85,price:18.75,value:1593.75,change24h:5.8,contractAddress:"0x514910771AF9Ca656af840dff83E8264EcF986CA",decimals:18}],isConnected:!0,lastUpdated:Date.now()},{chainId:"bitcoin",name:"Bitcoin",symbol:"BTC",logo:"₿",rpcUrl:"",explorerUrl:"https://blockstream.info",nativeCurrency:{symbol:"BTC",name:"Bitcoin",balance:.25,price:45200,value:11300,change24h:2.8,decimals:8},totalValue:11300,assetCount:1,assets:[],isConnected:!0,lastUpdated:Date.now()},{chainId:"solana",name:"Solana",symbol:"SOL",logo:"◎",rpcUrl:"https://api.mainnet-beta.solana.com",explorerUrl:"https://solscan.io",nativeCurrency:{symbol:"SOL",name:"Solana",balance:45,price:105,value:4725,change24h:8.5,decimals:9},totalValue:6890,assetCount:4,assets:[{symbol:"USDC",name:"USD Coin (Solana)",balance:1500,price:1,value:1500,change24h:0,contractAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},{symbol:"RAY",name:"Raydium",balance:250,price:2.66,value:665,change24h:12.4,contractAddress:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6}],isConnected:!0,lastUpdated:Date.now()},{chainId:"polygon",name:"Polygon",symbol:"MATIC",logo:"🔺",rpcUrl:"https://polygon-rpc.com",explorerUrl:"https://polygonscan.com",nativeCurrency:{symbol:"MATIC",name:"Polygon",balance:1200,price:.85,value:1020,change24h:-1.5,decimals:18},totalValue:3250,assetCount:3,assets:[{symbol:"USDC",name:"USD Coin (Polygon)",balance:2e3,price:1,value:2e3,change24h:0,contractAddress:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",decimals:6},{symbol:"QUICK",name:"QuickSwap",balance:500,price:.46,value:230,change24h:4.2,contractAddress:"0x831753DD7087CaC61aB5644b308642cc1c33Dc13",decimals:18}],isConnected:!1,lastUpdated:Date.now()-3e5}],a=[{address:"0x742d35Cc6634C0532925a3b8D4C9db4C4C4C4C4C",label:"Main Wallet",type:"metamask",isConnected:!0,chains:["ethereum","polygon"]},{address:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",label:"Bitcoin Wallet",type:"manual",isConnected:!0,chains:["bitcoin"]},{address:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgHUg",label:"Solana Wallet",type:"manual",isConnected:!0,chains:["solana"]}];w(i),o(a)},[]);const p=k.reduce((i,a)=>i+a.totalValue,0),A=k.reduce((i,a)=>i+a.assetCount,0),L=k.filter(i=>i.isConnected).length,r=k.flatMap(i=>[{...i.nativeCurrency,chainId:i.chainId,chainName:i.name},...i.assets.map(a=>({...a,chainId:i.chainId,chainName:i.name}))]).filter(i=>{const a=i.name.toLowerCase().includes(T.toLowerCase())||i.symbol.toLowerCase().includes(T.toLowerCase()),u=c==="all"||i.chainId===c,s=P||i.value>=1;return a&&u&&s}),x=async()=>{S(!0),setTimeout(()=>{w(i=>i.map(a=>({...a,lastUpdated:Date.now()}))),S(!1)},2e3)},D=()=>{if(!R)return;const i={address:R,label:`Wallet ${b.length+1}`,type:"manual",isConnected:!1,chains:[]};o(a=>[...a,i]),h(""),m(!1),y?.(i)},C=i=>`$${i.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,I=i=>`${i>=0?"+":""}${i.toFixed(2)}%`,t=i=>i>0?"text-green-400":i<0?"text-red-400":"text-white/60",d=i=>{const u=Date.now()-i,s=Math.floor(u/(1e3*60));if(s<1)return"Just now";if(s<60)return`${s}m ago`;const j=Math.floor(s/60);return j<24?`${j}h ago`:`${Math.floor(j/24)}d ago`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Multi-Chain Portfolio"}),e.jsx("p",{className:"text-white/60",children:"Track your assets across all blockchain networks"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),"Add Wallet"]}),e.jsx("button",{onClick:x,disabled:N,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Refresh Portfolio",children:e.jsx(U,{className:`w-4 h-4 ${N?"animate-spin":""}`})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(q,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Total Value"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:C(p)})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(ee,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Total Assets"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:A})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(oe,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Connected Chains"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:L})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(ue,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Wallets"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:b.length})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Chain Overview"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:k.map(i=>e.jsxs("div",{className:`p-4 rounded-lg border ${i.isConnected?"border-green-400/30 bg-green-400/5":"border-white/10 bg-white/5"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:i.logo}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:i.name}),e.jsxs("p",{className:"text-white/60 text-sm",children:[i.assetCount," assets"]})]})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${i.isConnected?"bg-green-400":"bg-gray-400"}`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Value:"}),e.jsx("span",{className:"text-white font-medium",children:C(i.totalValue)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Native:"}),e.jsxs("span",{className:"text-white font-medium",children:[i.nativeCurrency.balance.toFixed(4)," ",i.symbol]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Updated:"}),e.jsx("span",{className:"text-white/60 text-sm",children:d(i.lastUpdated)})]})]})]},i.chainId))})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search assets...",value:T,onChange:i=>f(i.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-purple-400"})]}),e.jsxs("select",{value:c,onChange:i=>g(i.target.value),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"all",className:"bg-gray-800",children:"All Chains"}),k.map(i=>e.jsx("option",{value:i.chainId,className:"bg-gray-800",children:i.name},i.chainId))]}),e.jsxs("button",{onClick:()=>E(!P),className:`flex items-center gap-2 px-4 py-3 rounded-lg transition-colors ${P?"bg-purple-600 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:[P?e.jsx(X,{className:"w-4 h-4"}):e.jsx(J,{className:"w-4 h-4"}),"Small Balances"]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Assets (",r.length,")"]}),e.jsx("div",{className:"space-y-3",children:r.map((i,a)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:a*.05},className:"flex items-center justify-between p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>F?.(i,k.find(u=>u.chainId===i.chainId)),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:i.symbol.slice(0,2)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:i.symbol}),e.jsx("p",{className:"text-white/60 text-sm",children:i.name}),e.jsx("p",{className:"text-white/40 text-xs",children:i.chainName})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-medium",children:C(i.value)}),e.jsxs("div",{className:"text-white/60 text-sm",children:[i.balance.toLocaleString()," ",i.symbol]}),e.jsx("div",{className:`text-sm ${t(i.change24h)}`,children:I(i.change24h)})]})]},`${i.chainId}-${i.symbol}`))}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Assets Found"}),e.jsx("p",{className:"text-white/60",children:"Try adjusting your search criteria or connect more wallets"})]})]}),e.jsx(H,{children:n&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>m(!1),children:e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-card p-6 max-w-md w-full",onClick:i=>i.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Wallet Address"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Wallet Address"}),e.jsx("input",{type:"text",value:R,onChange:i=>h(i.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white",placeholder:"0x... or bc1... or 7x..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:D,disabled:!R,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white transition-colors disabled:opacity-50",children:"Add Wallet"})]})]})]})})})]})},Ae=({portfolioValue:y,timeframe:F="1M",onTimeframeChange:k})=>{const[w,b]=l.useState("overview"),[o,c]=l.useState(null),[g,T]=l.useState([]),[f,P]=l.useState([]),[E,N]=l.useState([]),[S,n]=l.useState(!1),[m,R]=l.useState(!1);l.useEffect(()=>{n(!0),setTimeout(()=>{const r={totalReturn:24.5,annualizedReturn:18.7,volatility:32.4,sharpeRatio:1.42,sortinoRatio:2.18,calmarRatio:.89,maxDrawdown:-15.8,alpha:3.2,beta:.85,informationRatio:.67,trackingError:8.4,winRate:62.5,profitFactor:1.85,avgWin:4.2,avgLoss:-2.8,bestDay:12.4,worstDay:-8.9,consecutiveWins:7,consecutiveLosses:3},x=[{name:"Bitcoin",symbol:"BTC",return:18.2,volatility:45.6,correlation:.72,outperformance:6.3},{name:"Ethereum",symbol:"ETH",return:22.1,volatility:52.3,correlation:.68,outperformance:2.4},{name:"DeFi Pulse Index",symbol:"DPI",return:15.8,volatility:48.9,correlation:.84,outperformance:8.7},{name:"S&P 500",symbol:"SPX",return:12.4,volatility:18.2,correlation:.23,outperformance:12.1}],D=[{category:"Large Cap",allocation:45.2,return:28.4,contribution:12.8,selection:2.4,interaction:.8},{category:"DeFi",allocation:25.8,return:35.6,contribution:9.2,selection:4.1,interaction:1.2},{category:"Layer 1",allocation:18.5,return:15.2,contribution:2.8,selection:-1.8,interaction:-.4},{category:"Stablecoins",allocation:10.5,return:2.1,contribution:.2,selection:.1,interaction:0}],C=Array.from({length:90},(I,t)=>{const i=t*50,a=Math.sin(t*.1)*2e3+Math.random()*1e3,u=1e5+i+a,s=1e5+i*.8+a*.6;return{timestamp:Date.now()-(90-t)*24*60*60*1e3,portfolioValue:u,benchmarkValue:s,drawdown:Math.min(0,(u-Math.max(...Array.from({length:t+1},(j,M)=>1e5+M*50+Math.sin(M*.1)*2e3)))/u*100),returns:t>0?(u-(1e5+(t-1)*50+Math.sin((t-1)*.1)*2e3))/(1e5+(t-1)*50+Math.sin((t-1)*.1)*2e3)*100:0}});c(r),T(x),P(D),N(C),n(!1)},1500)},[F]);const h=r=>`${r>=0?"+":""}${r.toFixed(2)}%`,p=r=>r>0?"text-green-400":r<0?"text-red-400":"text-white/60",A=(r,x)=>r<=x.low?"text-green-400":r<=x.medium?"text-yellow-400":"text-red-400",L=(r,x=!0)=>x?r>=1.5?"text-green-400":r>=1?"text-yellow-400":"text-red-400":r<=.5?"text-green-400":r<=1?"text-yellow-400":"text-red-400",$=[{value:"1D",label:"1D"},{value:"1W",label:"1W"},{value:"1M",label:"1M"},{value:"3M",label:"3M"},{value:"6M",label:"6M"},{value:"1Y",label:"1Y"},{value:"ALL",label:"ALL"}];return S?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(U,{className:"w-16 h-16 text-white/20 mx-auto mb-4 animate-spin"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Calculating Performance Metrics"}),e.jsx("p",{className:"text-white/60",children:"Analyzing portfolio performance and risk metrics..."})]})}):o?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Performance Analytics"}),e.jsx("p",{className:"text-white/60",children:"Advanced portfolio performance and risk analysis"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex bg-white/5 rounded-lg p-1",children:$.map(r=>e.jsx("button",{onClick:()=>k?.(r.value),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${F===r.value?"bg-purple-600 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:r.label},r.value))}),e.jsxs("button",{onClick:()=>R(!m),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${m?"bg-purple-600 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:[m?e.jsx(X,{className:"w-4 h-4"}):e.jsx(J,{className:"w-4 h-4"}),"Advanced"]})]})]}),e.jsx("div",{className:"flex space-x-1 bg-white/5 p-1 rounded-lg",children:[{id:"overview",label:"Overview",icon:e.jsx(z,{className:"w-4 h-4"})},{id:"benchmarks",label:"Benchmarks",icon:e.jsx(B,{className:"w-4 h-4"})},{id:"attribution",label:"Attribution",icon:e.jsx(G,{className:"w-4 h-4"})},{id:"risk",label:"Risk Analysis",icon:e.jsx(O,{className:"w-4 h-4"})}].map(r=>e.jsxs("button",{onClick:()=>b(r.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-colors ${w===r.id?"bg-purple-600 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[r.icon,r.label]},r.id))}),e.jsx(H,{mode:"wait",children:e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[w==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(Y,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Total Return"}),e.jsx("p",{className:`text-3xl font-bold ${p(o.totalReturn)}`,children:h(o.totalReturn)}),e.jsxs("p",{className:"text-sm text-white/60 mt-1",children:[F," Period"]})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(ee,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Sharpe Ratio"}),e.jsx("p",{className:`text-3xl font-bold ${L(o.sharpeRatio)}`,children:o.sharpeRatio.toFixed(2)}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Risk-Adjusted Return"})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(te,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Max Drawdown"}),e.jsx("p",{className:"text-3xl font-bold text-red-400",children:h(o.maxDrawdown)}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Worst Decline"})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(xe,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Volatility"}),e.jsx("p",{className:`text-3xl font-bold ${A(o.volatility,{low:20,medium:40})}`,children:h(o.volatility)}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Annualized"})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Performance Chart"}),e.jsx("div",{className:"h-64 bg-gray-800/50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(z,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60",children:"Portfolio vs Benchmark Performance"}),e.jsxs("p",{className:"text-white/40 text-sm",children:[E.length," data points"]})]})})]}),m&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Risk Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Sortino Ratio:"}),e.jsx("span",{className:L(o.sortinoRatio),children:o.sortinoRatio.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Calmar Ratio:"}),e.jsx("span",{className:L(o.calmarRatio),children:o.calmarRatio.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Beta:"}),e.jsx("span",{className:"text-white",children:o.beta.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Alpha:"}),e.jsx("span",{className:p(o.alpha),children:h(o.alpha)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Information Ratio:"}),e.jsx("span",{className:L(o.informationRatio),children:o.informationRatio.toFixed(2)})]})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Trading Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Win Rate:"}),e.jsx("span",{className:"text-green-400",children:h(o.winRate)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Profit Factor:"}),e.jsx("span",{className:L(o.profitFactor),children:o.profitFactor.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Avg Win:"}),e.jsx("span",{className:"text-green-400",children:h(o.avgWin)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Avg Loss:"}),e.jsx("span",{className:"text-red-400",children:h(o.avgLoss)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Best Day:"}),e.jsx("span",{className:"text-green-400",children:h(o.bestDay)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Worst Day:"}),e.jsx("span",{className:"text-red-400",children:h(o.worstDay)})]})]})]})]})]}),w==="benchmarks"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Benchmark Comparison"}),e.jsx("div",{className:"space-y-4",children:g.map((r,x)=>e.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:x*.1},className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:r.name}),e.jsx("p",{className:"text-white/60 text-sm",children:r.symbol})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${p(r.outperformance)}`,children:[r.outperformance>=0?"+":"",r.outperformance.toFixed(1),"%"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Outperformance"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Return:"}),e.jsx("div",{className:`font-medium ${p(r.return)}`,children:h(r.return)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Volatility:"}),e.jsx("div",{className:"text-white",children:h(r.volatility)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Correlation:"}),e.jsx("div",{className:"text-white",children:r.correlation.toFixed(2)})]})]})]},r.symbol))})]})}),w==="attribution"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Performance Attribution"}),e.jsx("div",{className:"space-y-4",children:f.map((r,x)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:x*.1},className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-white font-medium",children:r.category}),e.jsxs("span",{className:"text-white/60 text-sm",children:[r.allocation.toFixed(1),"% allocation"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Return:"}),e.jsx("div",{className:`font-medium ${p(r.return)}`,children:h(r.return)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Contribution:"}),e.jsx("div",{className:`font-medium ${p(r.contribution)}`,children:h(r.contribution)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Selection:"}),e.jsx("div",{className:`font-medium ${p(r.selection)}`,children:h(r.selection)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Interaction:"}),e.jsx("div",{className:`font-medium ${p(r.interaction)}`,children:h(r.interaction)})]})]})]},r.category))})]})}),w==="risk"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Risk Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Portfolio Risk Level:"}),e.jsx("span",{className:A(o.volatility,{low:20,medium:40}),children:o.volatility<=20?"Low":o.volatility<=40?"Medium":"High"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Max Drawdown:"}),e.jsx("span",{className:"text-red-400",children:h(o.maxDrawdown)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Tracking Error:"}),e.jsx("span",{className:"text-white",children:h(o.trackingError)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Consecutive Losses:"}),e.jsx("span",{className:"text-white",children:o.consecutiveLosses})]})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Drawdown Analysis"}),e.jsx("div",{className:"h-32 bg-gray-800/50 rounded-lg flex items-center justify-center mb-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(me,{className:"w-8 h-8 text-white/20 mx-auto mb-2"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Drawdown Chart"})]})}),e.jsxs("div",{className:"text-sm text-white/60",children:["Current drawdown from peak: ",e.jsx("span",{className:"text-red-400",children:"-3.2%"})]})]})]})})]},w)})]}):null},Te=({taxYear:y=2024,onYearChange:F,onExport:k})=>{const[w,b]=l.useState("summary"),[o,c]=l.useState([]),[g,T]=l.useState(null),[f,P]=l.useState("US"),[E,N]=l.useState("FIFO"),[S,n]=l.useState(""),[m,R]=l.useState("all"),[h,p]=l.useState(!1),[A,L]=l.useState(!1),$=[{code:"US",name:"United States",shortTermRate:37,longTermRate:20,ordinaryRate:37,hasStakingTax:!0,hasDefiTax:!0,currency:"USD"},{code:"UK",name:"United Kingdom",shortTermRate:20,longTermRate:20,ordinaryRate:45,hasStakingTax:!0,hasDefiTax:!0,currency:"GBP"},{code:"CA",name:"Canada",shortTermRate:53.5,longTermRate:26.8,ordinaryRate:53.5,hasStakingTax:!0,hasDefiTax:!0,currency:"CAD"},{code:"DE",name:"Germany",shortTermRate:42,longTermRate:0,ordinaryRate:42,hasStakingTax:!0,hasDefiTax:!0,currency:"EUR"}];l.useEffect(()=>{const i=[{id:"tx1",date:"2024-01-15",type:"buy",asset:"BTC",amount:.5,price:42e3,value:21e3,taxableEvent:!1,description:"Purchased Bitcoin",chain:"Bitcoin",txHash:"abc123..."},{id:"tx2",date:"2024-03-20",type:"sell",asset:"BTC",amount:.2,price:48e3,value:9600,costBasis:8400,gainLoss:1200,taxableEvent:!0,description:"Sold Bitcoin",chain:"Bitcoin",txHash:"def456..."},{id:"tx3",date:"2024-02-10",type:"stake",asset:"ETH",amount:2,price:2800,value:5600,taxableEvent:!1,description:"Staked Ethereum",chain:"Ethereum",txHash:"ghi789..."},{id:"tx4",date:"2024-04-05",type:"defi_yield",asset:"USDC",amount:150,price:1,value:150,taxableEvent:!0,description:"DeFi yield farming rewards",chain:"Ethereum",txHash:"jkl012..."},{id:"tx5",date:"2024-05-12",type:"airdrop",asset:"ARB",amount:500,price:1.2,value:600,taxableEvent:!0,description:"Arbitrum airdrop",chain:"Arbitrum",txHash:"mno345..."}],a={totalGains:2850,totalLosses:450,netGainLoss:2400,shortTermGains:1200,longTermGains:1200,ordinaryIncome:750,stakingRewards:320,defiYield:280,airdrops:150,taxOwed:1680,effectiveRate:28.5};c(i),T(a)},[y,f,E]);const r=()=>{p(!0),setTimeout(()=>{p(!1)},3e3)},x=o.filter(i=>{const a=i.asset.toLowerCase().includes(S.toLowerCase())||i.description.toLowerCase().includes(S.toLowerCase()),u=m==="all"||i.type===m;return a&&u}),D=i=>{k?.(i,{transactions:o,summary:g,jurisdiction:f})},C=i=>{const u=$.find(s=>s.code===f)?.currency||"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:u}).format(i)},I=i=>{switch(i){case"buy":return"text-blue-400";case"sell":return"text-green-400";case"trade":return"text-purple-400";case"stake":return"text-yellow-400";case"defi_yield":return"text-green-400";case"airdrop":return"text-pink-400";default:return"text-white/60"}},t=i=>i>0?"text-green-400":i<0?"text-red-400":"text-white/60",d=$.find(i=>i.code===f);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Tax Reporting"}),e.jsx("p",{className:"text-white/60",children:"Automated crypto tax calculation and reporting"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:y,onChange:i=>F?.(Number(i.target.value)),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:2024,className:"bg-gray-800",children:"2024"}),e.jsx("option",{value:2023,className:"bg-gray-800",children:"2023"}),e.jsx("option",{value:2022,className:"bg-gray-800",children:"2022"}),e.jsx("option",{value:2021,className:"bg-gray-800",children:"2021"})]}),e.jsxs("button",{onClick:r,disabled:h,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white font-medium transition-colors disabled:opacity-50",children:[e.jsx(Q,{className:`w-4 h-4 ${h?"animate-pulse":""}`}),h?"Calculating...":"Calculate Taxes"]})]})]}),e.jsx("div",{className:"flex space-x-1 bg-white/5 p-1 rounded-lg",children:[{id:"summary",label:"Tax Summary",icon:e.jsx(z,{className:"w-4 h-4"})},{id:"transactions",label:"Transactions",icon:e.jsx(ie,{className:"w-4 h-4"})},{id:"reports",label:"Reports",icon:e.jsx(he,{className:"w-4 h-4"})},{id:"settings",label:"Settings",icon:e.jsx(se,{className:"w-4 h-4"})}].map(i=>e.jsxs("button",{onClick:()=>b(i.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-colors ${w===i.id?"bg-purple-600 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[i.icon,i.label]},i.id))}),e.jsx(H,{mode:"wait",children:e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[w==="summary"&&g&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(Y,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Net Gain/Loss"}),e.jsx("p",{className:`text-3xl font-bold ${t(g.netGainLoss)}`,children:C(g.netGainLoss)})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(q,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Tax Owed"}),e.jsx("p",{className:"text-3xl font-bold text-red-400",children:C(g.taxOwed)})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(xe,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Effective Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-yellow-400",children:[g.effectiveRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(oe,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Jurisdiction"}),e.jsx("p",{className:"text-xl font-bold text-white",children:d?.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Capital Gains"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Short-term gains:"}),e.jsx("span",{className:t(g.shortTermGains),children:C(g.shortTermGains)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Long-term gains:"}),e.jsx("span",{className:t(g.longTermGains),children:C(g.longTermGains)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Total losses:"}),e.jsx("span",{className:"text-red-400",children:C(g.totalLosses)})]}),e.jsx("div",{className:"border-t border-white/10 pt-3",children:e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{className:"text-white",children:"Net capital gains:"}),e.jsx("span",{className:t(g.netGainLoss),children:C(g.netGainLoss)})]})})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Ordinary Income"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Staking rewards:"}),e.jsx("span",{className:"text-green-400",children:C(g.stakingRewards)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"DeFi yield:"}),e.jsx("span",{className:"text-green-400",children:C(g.defiYield)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Airdrops:"}),e.jsx("span",{className:"text-green-400",children:C(g.airdrops)})]}),e.jsx("div",{className:"border-t border-white/10 pt-3",children:e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{className:"text-white",children:"Total ordinary income:"}),e.jsx("span",{className:"text-green-400",children:C(g.ordinaryIncome)})]})})]})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Tax Rates (",d?.name,")"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[d?.shortTermRate,"%"]}),e.jsx("div",{className:"text-white/60",children:"Short-term Capital Gains"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[d?.longTermRate,"%"]}),e.jsx("div",{className:"text-white/60",children:"Long-term Capital Gains"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[d?.ordinaryRate,"%"]}),e.jsx("div",{className:"text-white/60",children:"Ordinary Income"})]})]})]})]}),w==="transactions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search transactions...",value:S,onChange:i=>n(i.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-purple-400"})]}),e.jsxs("select",{value:m,onChange:i=>R(i.target.value),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"all",className:"bg-gray-800",children:"All Types"}),e.jsx("option",{value:"buy",className:"bg-gray-800",children:"Buy"}),e.jsx("option",{value:"sell",className:"bg-gray-800",children:"Sell"}),e.jsx("option",{value:"trade",className:"bg-gray-800",children:"Trade"}),e.jsx("option",{value:"stake",className:"bg-gray-800",children:"Stake"}),e.jsx("option",{value:"defi_yield",className:"bg-gray-800",children:"DeFi Yield"}),e.jsx("option",{value:"airdrop",className:"bg-gray-800",children:"Airdrop"})]}),e.jsxs("button",{onClick:()=>L(!A),className:`flex items-center gap-2 px-4 py-3 rounded-lg transition-colors ${A?"bg-purple-600 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:[A?e.jsx(X,{className:"w-4 h-4"}):e.jsx(J,{className:"w-4 h-4"}),"Details"]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Transactions (",x.length,")"]}),e.jsx("div",{className:"space-y-3",children:x.map((i,a)=>e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:a*.05},className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${i.taxableEvent?"bg-red-400":"bg-green-400"}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-medium capitalize ${I(i.type)}`,children:i.type.replace("_"," ")}),e.jsxs("span",{className:"text-white font-bold",children:[i.amount," ",i.asset]})]}),e.jsx("p",{className:"text-white/60 text-sm",children:i.description}),A&&e.jsxs("p",{className:"text-white/40 text-xs",children:[i.chain," • ",i.txHash?.slice(0,10),"..."]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-medium",children:C(i.value)}),e.jsx("div",{className:"text-white/60 text-sm",children:i.date}),i.gainLoss!==void 0&&e.jsxs("div",{className:`text-sm font-medium ${t(i.gainLoss)}`,children:[i.gainLoss>=0?"+":"",C(i.gainLoss)]})]})]})},i.id))})]})]}),w==="reports"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Export Tax Reports"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Standard Formats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>D("csv"),className:"w-full flex items-center gap-3 p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:[e.jsx(ie,{className:"w-6 h-6 text-blue-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"CSV Export"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Spreadsheet-compatible format"})]})]}),e.jsxs("button",{onClick:()=>D("pdf"),className:"w-full flex items-center gap-3 p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:[e.jsx(ie,{className:"w-6 h-6 text-red-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"PDF Report"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Professional tax summary"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Tax Software"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>D("turbotax"),className:"w-full flex items-center gap-3 p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:[e.jsx(Q,{className:"w-6 h-6 text-green-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"TurboTax"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Direct import format"})]})]}),e.jsxs("button",{onClick:()=>D("taxact"),className:"w-full flex items-center gap-3 p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:[e.jsx(Q,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"TaxAct"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Compatible format"})]})]})]})]})]})]})}),w==="settings"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Tax Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Tax Jurisdiction"}),e.jsx("select",{value:f,onChange:i=>P(i.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:$.map(i=>e.jsx("option",{value:i.code,className:"bg-gray-800",children:i.name},i.code))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Cost Basis Method"}),e.jsxs("select",{value:E,onChange:i=>N(i.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"FIFO",className:"bg-gray-800",children:"FIFO (First In, First Out)"}),e.jsx("option",{value:"LIFO",className:"bg-gray-800",children:"LIFO (Last In, First Out)"}),e.jsx("option",{value:"HIFO",className:"bg-gray-800",children:"HIFO (Highest In, First Out)"}),e.jsx("option",{value:"SpecificID",className:"bg-gray-800",children:"Specific Identification"})]})]})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Import Data"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center",children:[e.jsx(ge,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60 mb-2",children:"Import transaction data"}),e.jsx("p",{className:"text-white/40 text-sm",children:"CSV, Excel, or exchange exports"}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white transition-colors",children:"Choose File"})]})})]})]})})]},w)})]})},Re=({portfolioValue:y,currentHoldings:F=[],onStrategyCreate:k,onRebalanceExecute:w})=>{const[b,o]=l.useState("strategies"),[c,g]=l.useState([]),[T,f]=l.useState(null),[P,E]=l.useState([]),[N,S]=l.useState(null),[n,m]=l.useState(!1),[R,h]=l.useState(!1),[p,A]=l.useState({name:"",description:"",type:"threshold",targetAllocation:{},threshold:5,timeInterval:"monthly"});l.useEffect(()=>{const t=[{id:"strategy-1",name:"Conservative Balanced",description:"Maintain 60% BTC, 30% ETH, 10% stablecoins with 5% threshold",type:"threshold",isActive:!0,targetAllocation:{BTC:60,ETH:30,USDC:10},triggers:{threshold:5},constraints:{minTradeSize:100,maxSlippage:.5,tradingFees:.1,taxOptimization:!0},performance:{totalRebalances:12,avgCost:45.5,totalSavings:1250,lastRebalance:Date.now()-6048e5},createdAt:Date.now()-7776e6},{id:"strategy-2",name:"DeFi Growth",description:"Aggressive allocation with 40% large cap, 40% DeFi, 20% stables",type:"volatility",isActive:!1,targetAllocation:{BTC:20,ETH:20,UNI:15,AAVE:15,LINK:10,USDC:20},triggers:{volatilityThreshold:15},constraints:{minTradeSize:50,maxSlippage:1,tradingFees:.15,taxOptimization:!1},performance:{totalRebalances:8,avgCost:78.25,totalSavings:890,lastRebalance:Date.now()-12096e5},createdAt:Date.now()-5184e6},{id:"strategy-3",name:"Monthly Rebalance",description:"Time-based rebalancing every month regardless of deviation",type:"time",isActive:!1,targetAllocation:{BTC:50,ETH:25,SOL:15,USDC:10},triggers:{timeInterval:"monthly"},constraints:{minTradeSize:75,maxSlippage:.75,tradingFees:.12,taxOptimization:!0},performance:{totalRebalances:6,avgCost:62.8,totalSavings:420,lastRebalance:Date.now()-18144e5},createdAt:Date.now()-3888e6}],d=[{asset:"Bitcoin",symbol:"BTC",currentWeight:65.2,targetWeight:60,deviation:5.2,value:32600,suggestedAction:"sell",suggestedAmount:2600},{asset:"Ethereum",symbol:"ETH",currentWeight:26.8,targetWeight:30,deviation:-3.2,value:13400,suggestedAction:"buy",suggestedAmount:1600},{asset:"USD Coin",symbol:"USDC",currentWeight:8,targetWeight:10,deviation:-2,value:4e3,suggestedAction:"buy",suggestedAmount:1e3}];g(t),f(t[0]),E(d)},[]);const L=async t=>{m(!0),setTimeout(()=>{S({strategy:t,currentAllocations:P,projectedCosts:{tradingFees:125.5,slippage:45.2,taxImpact:280.75,totalCost:451.45},expectedBenefit:1250.8,riskReduction:12.5,timeToExecute:15}),m(!1)},2e3)},$=()=>{const t={id:`strategy-${Date.now()}`,name:p.name,description:p.description,type:p.type,isActive:!1,targetAllocation:p.targetAllocation,triggers:{threshold:p.threshold,timeInterval:p.timeInterval},constraints:{minTradeSize:100,maxSlippage:.5,tradingFees:.1,taxOptimization:!0},performance:{totalRebalances:0,avgCost:0,totalSavings:0,lastRebalance:0},createdAt:Date.now()};g(d=>[...d,t]),h(!1),k?.(t)},r=t=>{g(d=>d.map(i=>i.id===t?{...i,isActive:!i.isActive}:{...i,isActive:!1}))},x=t=>`$${t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,D=t=>`${t>=0?"+":""}${t.toFixed(1)}%`,C=t=>{const d=Math.abs(t);return d<=2?"text-green-400":d<=5?"text-yellow-400":"text-red-400"},I=t=>{switch(t){case"buy":return"text-green-400";case"sell":return"text-red-400";case"hold":return"text-white/60";default:return"text-white/60"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Automated Rebalancing"}),e.jsx("p",{className:"text-white/60",children:"Smart portfolio rebalancing with strategy templates and cost optimization"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),"Create Strategy"]}),T&&e.jsxs("button",{onClick:()=>L(T),disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors disabled:opacity-50",children:[e.jsx(ne,{className:`w-4 h-4 ${n?"animate-pulse":""}`}),n?"Simulating...":"Simulate"]})]})]}),e.jsx("div",{className:"flex space-x-1 bg-white/5 p-1 rounded-lg",children:[{id:"strategies",label:"Strategies",icon:e.jsx(B,{className:"w-4 h-4"})},{id:"simulation",label:"Simulation",icon:e.jsx(z,{className:"w-4 h-4"})},{id:"history",label:"History",icon:e.jsx(je,{className:"w-4 h-4"})},{id:"settings",label:"Settings",icon:e.jsx(se,{className:"w-4 h-4"})}].map(t=>e.jsxs("button",{onClick:()=>o(t.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-colors ${b===t.id?"bg-purple-600 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[t.icon,t.label]},t.id))}),e.jsx(H,{mode:"wait",children:e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[b==="strategies"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Current vs Target Allocation"}),e.jsx("div",{className:"space-y-4",children:P.map((t,d)=>e.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:d*.1},className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:t.symbol.slice(0,2)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:t.asset}),e.jsx("p",{className:"text-white/60 text-sm",children:x(t.value)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${C(t.deviation)}`,children:D(t.deviation)}),e.jsx("div",{className:"text-white/60 text-sm",children:"Deviation"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Current:"}),e.jsxs("div",{className:"text-white font-medium",children:[t.currentWeight.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Target:"}),e.jsxs("div",{className:"text-white font-medium",children:[t.targetWeight.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Action:"}),e.jsxs("div",{className:`font-medium capitalize ${I(t.suggestedAction)}`,children:[t.suggestedAction," ",x(t.suggestedAmount)]})]})]})]},t.symbol))})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Rebalancing Strategies"}),e.jsx("div",{className:"space-y-4",children:c.map((t,d)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:d*.1},className:`p-4 rounded-lg border cursor-pointer transition-colors ${t.isActive?"border-green-400/30 bg-green-400/5":T?.id===t.id?"border-purple-400/30 bg-purple-400/5":"border-white/10 bg-white/5 hover:bg-white/10"}`,onClick:()=>f(t),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-white font-medium",children:t.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${t.type==="threshold"?"bg-blue-500/20 text-blue-400":t.type==="time"?"bg-green-500/20 text-green-400":t.type==="volatility"?"bg-yellow-500/20 text-yellow-400":"bg-purple-500/20 text-purple-400"}`,children:t.type}),t.isActive&&e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs font-medium",children:"Active"})]}),e.jsx("p",{className:"text-white/60 text-sm",children:t.description})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:i=>{i.stopPropagation(),r(t.id)},className:`p-2 rounded-lg transition-colors ${t.isActive?"bg-green-600 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:t.isActive?e.jsx(we,{className:"w-4 h-4"}):e.jsx(ne,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Rebalances:"}),e.jsx("div",{className:"text-white font-medium",children:t.performance.totalRebalances})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Avg Cost:"}),e.jsx("div",{className:"text-white font-medium",children:x(t.performance.avgCost)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Total Savings:"}),e.jsx("div",{className:"text-green-400 font-medium",children:x(t.performance.totalSavings)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Last Run:"}),e.jsx("div",{className:"text-white/60 text-xs",children:t.performance.lastRebalance?new Date(t.performance.lastRebalance).toLocaleDateString():"Never"})]})]})]},t.id))})]})]}),b==="simulation"&&e.jsx("div",{className:"space-y-6",children:n?e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(U,{className:"w-16 h-16 text-white/20 mx-auto mb-4 animate-spin"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Running Simulation"}),e.jsx("p",{className:"text-white/60",children:"Calculating optimal rebalancing strategy..."})]}):N?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Simulation Results"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:x(N.expectedBenefit)}),e.jsx("div",{className:"text-white/60 text-sm",children:"Expected Benefit"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:x(N.projectedCosts.totalCost)}),e.jsx("div",{className:"text-white/60 text-sm",children:"Total Cost"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[N.riskReduction.toFixed(1),"%"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Risk Reduction"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[N.timeToExecute,"min"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Execution Time"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Cost Breakdown"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Trading Fees:"}),e.jsx("span",{className:"text-white",children:x(N.projectedCosts.tradingFees)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Slippage:"}),e.jsx("span",{className:"text-white",children:x(N.projectedCosts.slippage)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Tax Impact:"}),e.jsx("span",{className:"text-white",children:x(N.projectedCosts.taxImpact)})]}),e.jsx("div",{className:"border-t border-white/10 pt-2",children:e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{className:"text-white",children:"Total Cost:"}),e.jsx("span",{className:"text-red-400",children:x(N.projectedCosts.totalCost)})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Net Benefit"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Expected Benefit:"}),e.jsx("span",{className:"text-green-400",children:x(N.expectedBenefit)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Total Costs:"}),e.jsxs("span",{className:"text-red-400",children:["-",x(N.projectedCosts.totalCost)]})]}),e.jsx("div",{className:"border-t border-white/10 pt-2",children:e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{className:"text-white",children:"Net Benefit:"}),e.jsx("span",{className:"text-green-400",children:x(N.expectedBenefit-N.projectedCosts.totalCost)})]})})]})]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx("button",{onClick:()=>w?.(N),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"Execute Rebalance"}),e.jsx("button",{onClick:()=>S(null),className:"flex-1 bg-white/10 hover:bg-white/20 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})}):e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(B,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Simulation Running"}),e.jsx("p",{className:"text-white/60",children:'Select a strategy and click "Simulate" to see rebalancing projections'})]})}),b==="history"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Rebalancing History"}),e.jsx("div",{className:"space-y-4",children:c.filter(t=>t.performance.totalRebalances>0).map((t,d)=>e.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-white font-medium",children:t.name}),e.jsx("span",{className:"text-white/60 text-sm",children:new Date(t.performance.lastRebalance).toLocaleDateString()})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Total Rebalances:"}),e.jsx("div",{className:"text-white",children:t.performance.totalRebalances})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Average Cost:"}),e.jsx("div",{className:"text-white",children:x(t.performance.avgCost)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Total Savings:"}),e.jsx("div",{className:"text-green-400",children:x(t.performance.totalSavings)})]})]})]},t.id))})]}),b==="settings"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Rebalancing Settings"}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Default Min Trade Size"}),e.jsx("input",{type:"number",defaultValue:100,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Max Slippage (%)"}),e.jsx("input",{type:"number",step:"0.1",defaultValue:.5,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Trading Fees (%)"}),e.jsx("input",{type:"number",step:"0.01",defaultValue:.1,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 text-white/80",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),"Enable Tax Optimization"]})})]})})]})]},b)}),e.jsx(H,{children:R&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-card p-6 max-w-md w-full",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Create Rebalancing Strategy"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Strategy Name"}),e.jsx("input",{type:"text",value:p.name,onChange:t=>A(d=>({...d,name:t.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white",placeholder:"My Strategy"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Description"}),e.jsx("textarea",{value:p.description,onChange:t=>A(d=>({...d,description:t.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white",rows:2,placeholder:"Strategy description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Strategy Type"}),e.jsxs("select",{value:p.type,onChange:t=>A(d=>({...d,type:t.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white",children:[e.jsx("option",{value:"threshold",className:"bg-gray-800",children:"Threshold-based"}),e.jsx("option",{value:"time",className:"bg-gray-800",children:"Time-based"}),e.jsx("option",{value:"volatility",className:"bg-gray-800",children:"Volatility-based"}),e.jsx("option",{value:"momentum",className:"bg-gray-800",children:"Momentum-based"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:$,disabled:!p.name,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white transition-colors disabled:opacity-50",children:"Create Strategy"})]})]})]})})})]})},Le=({portfolioValue:y,holdings:F=[],timeframe:k="1M",onRiskAlert:w})=>{const[b,o]=l.useState("overview"),[c,g]=l.useState(null),[T,f]=l.useState([]),[P,E]=l.useState([]),[N,S]=l.useState([]),[n,m]=l.useState([]),[R,h]=l.useState(!1),[p,A]=l.useState(!1),[L,$]=l.useState("");l.useEffect(()=>{h(!0),(async()=>{try{const[d,i]=await Promise.all([ce.getRealMarketData(),ce.getRealTimePrices(["BTC","ETH","BNB"])]),a=i.reduce((ae,pe)=>ae+Math.abs(pe.change24h),0)/i.length,u=Math.abs(d.marketCapChange24h),s={portfolioRisk:a>5?"high":a>2?"medium":"low",riskScore:Math.min(100,Math.max(0,50+a*5)),volatility:a,sharpeRatio:Math.max(0,2-a/10),maxDrawdown:-Math.max(10,a*2),var95:y*(.05+a/100),var99:y*(.1+a/50),expectedShortfall:y*(.15+a/30),beta:.5+a/20,correlationRisk:Math.min(100,40+u*10),concentrationRisk:Math.min(100,30+a*5),liquidityRisk:Math.min(100,20+u*3),counterpartyRisk:Math.min(100,15+a*2)},j=[{type:"asset",name:"Bitcoin (BTC)",allocation:45.2,riskLevel:"medium",recommendation:"Consider reducing BTC allocation below 40% to improve diversification"},{type:"sector",name:"Layer 1 Protocols",allocation:68.5,riskLevel:"high",recommendation:"High concentration in L1s - consider adding DeFi or utility tokens"},{type:"chain",name:"Ethereum Ecosystem",allocation:52.3,riskLevel:"medium",recommendation:"Moderate Ethereum exposure - consider multi-chain diversification"},{type:"protocol",name:"Centralized Exchanges",allocation:15.8,riskLevel:"low",recommendation:"Acceptable CEX exposure - monitor counterparty risk"}],M=[{asset1:"BTC",asset2:"ETH",correlation:.78,riskLevel:"high"},{asset1:"BTC",asset2:"SOL",correlation:.65,riskLevel:"medium"},{asset1:"ETH",asset2:"UNI",correlation:.82,riskLevel:"high"},{asset1:"ETH",asset2:"LINK",correlation:.71,riskLevel:"medium"},{asset1:"BTC",asset2:"USDC",correlation:-.12,riskLevel:"low"},{asset1:"SOL",asset2:"AVAX",correlation:.69,riskLevel:"medium"}],W=[{id:"crypto-winter",name:"Crypto Winter 2022",description:"Prolonged bear market with 80% decline from peaks",type:"crypto_winter",parameters:{btcChange:-75,ethChange:-80,altcoinChange:-85,stablecoinChange:-2,duration:365},results:{portfolioChange:-68.5,maxDrawdown:-72.3,recoveryTime:890,worstAsset:"SOL",worstAssetChange:-89.2}},{id:"market-crash",name:"Flash Crash",description:"Sudden 50% market decline over 24 hours",type:"market_crash",parameters:{btcChange:-45,ethChange:-50,altcoinChange:-60,stablecoinChange:0,duration:1},results:{portfolioChange:-42.8,maxDrawdown:-45.2,recoveryTime:120,worstAsset:"UNI",worstAssetChange:-65.4}},{id:"defi-hack",name:"Major DeFi Exploit",description:"Large-scale DeFi protocol hack affecting ecosystem confidence",type:"defi_hack",parameters:{btcChange:-15,ethChange:-25,altcoinChange:-40,stablecoinChange:-5,duration:30},results:{portfolioChange:-28.4,maxDrawdown:-32.1,recoveryTime:180,worstAsset:"AAVE",worstAssetChange:-55.8}}],le=[{asset:"BTC",dailyVolume:15e9,marketCap:85e10,liquidityScore:95,timeToLiquidate:.5,slippageEstimate:.1,riskLevel:"low"},{asset:"ETH",dailyVolume:8e9,marketCap:28e10,liquidityScore:90,timeToLiquidate:1,slippageEstimate:.2,riskLevel:"low"},{asset:"SOL",dailyVolume:8e8,marketCap:45e9,liquidityScore:75,timeToLiquidate:4,slippageEstimate:.8,riskLevel:"medium"},{asset:"UNI",dailyVolume:2e8,marketCap:8e9,liquidityScore:65,timeToLiquidate:8,slippageEstimate:1.5,riskLevel:"medium"}];g(s),f(realConcentrationAnalysis),E(realCorrelationMatrix),S(realStressTests),m(realLiquidityAnalysis),$(realStressTests[0].id),h(!1)}catch(d){console.error("Error fetching real risk data:",d);const i={portfolioRisk:"medium",riskScore:68,volatility:45.2,sharpeRatio:1.42,maxDrawdown:-23.8,var95:y*.15,var99:y*.25,expectedShortfall:y*.32,beta:.85,correlationRisk:72,concentrationRisk:58,liquidityRisk:34,counterpartyRisk:28};g(i),f(realConcentrationAnalysis),E(realCorrelationMatrix),S(realStressTests),m(realLiquidityAnalysis),$(realStressTests[0].id),h(!1)}})()},[y,k]);const r=t=>`$${t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`,x=t=>`${t>=0?"+":""}${t.toFixed(1)}%`,D=t=>{switch(t){case"low":return"text-green-400";case"medium":return"text-yellow-400";case"high":return"text-red-400";default:return"text-white/60"}},C=t=>{const d=Math.abs(t);return d>=.8?"text-red-400":d>=.6?"text-yellow-400":"text-green-400"},I=t=>t<=30?"text-green-400":t<=70?"text-yellow-400":"text-red-400";return R?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(U,{className:"w-16 h-16 text-white/20 mx-auto mb-4 animate-spin"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Analyzing Portfolio Risk"}),e.jsx("p",{className:"text-white/60",children:"Calculating risk metrics and stress test scenarios..."})]})}):c?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Risk Management"}),e.jsx("p",{className:"text-white/60",children:"Comprehensive portfolio risk analysis and stress testing"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>A(!p),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${p?"bg-purple-600 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:[p?e.jsx(X,{className:"w-4 h-4"}):e.jsx(J,{className:"w-4 h-4"}),"Advanced"]}),e.jsx("button",{className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:e.jsx(U,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(O,{className:`w-12 h-12 mx-auto mb-4 ${D(c.portfolioRisk)}`}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Portfolio Risk"}),e.jsx("p",{className:`text-2xl font-bold capitalize ${D(c.portfolioRisk)}`,children:c.portfolioRisk}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Overall Assessment"})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(B,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Risk Score"}),e.jsxs("p",{className:`text-2xl font-bold ${I(c.riskScore)}`,children:[c.riskScore,"/100"]}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Composite Score"})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(me,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Max Drawdown"}),e.jsx("p",{className:"text-2xl font-bold text-red-400",children:x(c.maxDrawdown)}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Worst Decline"})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(ee,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"VaR (95%)"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:r(c.var95)}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"1-Day Risk"})]})]}),e.jsx("div",{className:"flex space-x-1 bg-white/5 p-1 rounded-lg",children:[{id:"overview",label:"Overview",icon:e.jsx(z,{className:"w-4 h-4"})},{id:"concentration",label:"Concentration",icon:e.jsx(G,{className:"w-4 h-4"})},{id:"correlation",label:"Correlation",icon:e.jsx(Ne,{className:"w-4 h-4"})},{id:"stress",label:"Stress Tests",icon:e.jsx(te,{className:"w-4 h-4"})},{id:"liquidity",label:"Liquidity",icon:e.jsx(K,{className:"w-4 h-4"})}].map(t=>e.jsxs("button",{onClick:()=>o(t.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-colors ${b===t.id?"bg-purple-600 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[t.icon,t.label]},t.id))}),e.jsx(H,{mode:"wait",children:e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[b==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Risk Factors"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-white/60",children:"Concentration Risk"}),e.jsxs("span",{className:I(c.concentrationRisk),children:[c.concentrationRisk,"/100"]})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c.concentrationRisk<=30?"bg-green-400":c.concentrationRisk<=70?"bg-yellow-400":"bg-red-400"}`,style:{width:`${c.concentrationRisk}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-white/60",children:"Correlation Risk"}),e.jsxs("span",{className:I(c.correlationRisk),children:[c.correlationRisk,"/100"]})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c.correlationRisk<=30?"bg-green-400":c.correlationRisk<=70?"bg-yellow-400":"bg-red-400"}`,style:{width:`${c.correlationRisk}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-white/60",children:"Liquidity Risk"}),e.jsxs("span",{className:I(c.liquidityRisk),children:[c.liquidityRisk,"/100"]})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c.liquidityRisk<=30?"bg-green-400":c.liquidityRisk<=70?"bg-yellow-400":"bg-red-400"}`,style:{width:`${c.liquidityRisk}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-white/60",children:"Counterparty Risk"}),e.jsxs("span",{className:I(c.counterpartyRisk),children:[c.counterpartyRisk,"/100"]})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c.counterpartyRisk<=30?"bg-green-400":c.counterpartyRisk<=70?"bg-yellow-400":"bg-red-400"}`,style:{width:`${c.counterpartyRisk}%`}})})]})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Value at Risk"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"VaR 95% (1 day):"}),e.jsx("span",{className:"text-red-400",children:r(c.var95)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"VaR 99% (1 day):"}),e.jsx("span",{className:"text-red-400",children:r(c.var99)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Expected Shortfall:"}),e.jsx("span",{className:"text-red-400",children:r(c.expectedShortfall)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Portfolio Beta:"}),e.jsx("span",{className:"text-white",children:c.beta.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Volatility (Annual):"}),e.jsx("span",{className:"text-white",children:x(c.volatility)})]})]})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Risk Over Time"}),e.jsx("div",{className:"h-64 bg-gray-800/50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/60",children:"Portfolio risk metrics over time"}),e.jsx("p",{className:"text-white/40 text-sm",children:"VaR, volatility, and drawdown tracking"})]})})]})]}),b==="concentration"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Concentration Analysis"}),e.jsx("div",{className:"space-y-4",children:T.map((t,d)=>e.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:d*.1},className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-white font-medium",children:t.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${t.type==="asset"?"bg-blue-500/20 text-blue-400":t.type==="sector"?"bg-green-500/20 text-green-400":t.type==="chain"?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"}`,children:t.type}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${D(t.riskLevel)} bg-current/20`,children:[t.riskLevel," risk"]})]}),e.jsx("p",{className:"text-white/60 text-sm",children:t.recommendation})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white font-bold text-lg",children:[t.allocation.toFixed(1),"%"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Allocation"})]})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.riskLevel==="low"?"bg-green-400":t.riskLevel==="medium"?"bg-yellow-400":"bg-red-400"}`,style:{width:`${Math.min(t.allocation,100)}%`}})})]},`${t.type}-${t.name}`))})]}),b==="correlation"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Asset Correlation Matrix"}),e.jsx("div",{className:"space-y-3",children:P.map((t,d)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:d*.05},className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium",children:t.asset1}),e.jsx("span",{className:"text-white/40",children:"↔"}),e.jsx("span",{className:"text-white font-medium",children:t.asset2})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D(t.riskLevel)} bg-current/20`,children:t.riskLevel})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-lg font-bold ${C(t.correlation)}`,children:t.correlation.toFixed(2)}),e.jsx("div",{className:"text-white/60 text-xs",children:"Correlation"})]})]},`${t.asset1}-${t.asset2}`))})]}),b==="stress"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Stress Test Scenarios"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:N.map(t=>e.jsxs("button",{onClick:()=>$(t.id),className:`p-4 rounded-lg text-left transition-colors ${L===t.id?"bg-purple-600/20 border border-purple-400":"bg-white/5 hover:bg-white/10 border border-white/10"}`,children:[e.jsx("h4",{className:"text-white font-medium mb-1",children:t.name}),e.jsx("p",{className:"text-white/60 text-sm",children:t.description})]},t.id))})]}),L&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[N.find(t=>t.id===L)?.name," Results"]}),(()=>{const t=N.find(d=>d.id===L);return t?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Scenario Parameters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"BTC Change:"}),e.jsx("span",{className:"text-red-400",children:x(t.parameters.btcChange)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"ETH Change:"}),e.jsx("span",{className:"text-red-400",children:x(t.parameters.ethChange)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Altcoin Change:"}),e.jsx("span",{className:"text-red-400",children:x(t.parameters.altcoinChange)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Duration:"}),e.jsxs("span",{className:"text-white",children:[t.parameters.duration," days"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Impact Results"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Portfolio Change:"}),e.jsx("span",{className:"text-red-400",children:x(t.results.portfolioChange)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Max Drawdown:"}),e.jsx("span",{className:"text-red-400",children:x(t.results.maxDrawdown)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Recovery Time:"}),e.jsxs("span",{className:"text-white",children:[t.results.recoveryTime," days"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Worst Asset:"}),e.jsxs("span",{className:"text-red-400",children:[t.results.worstAsset," (",x(t.results.worstAssetChange),")"]})]})]})]})]}):null})()]})]}),b==="liquidity"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Liquidity Analysis"}),e.jsx("div",{className:"space-y-4",children:n.map((t,d)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:d*.1},className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"text-white font-medium",children:t.asset}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${D(t.riskLevel)} bg-current/20`,children:[t.riskLevel," liquidity"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white font-bold",children:[t.liquidityScore,"/100"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Score"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Daily Volume:"}),e.jsx("div",{className:"text-white",children:r(t.dailyVolume)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Time to Liquidate:"}),e.jsxs("div",{className:"text-white",children:[t.timeToLiquidate,"h"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Slippage Est.:"}),e.jsxs("div",{className:"text-yellow-400",children:[t.slippageEstimate.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Market Cap:"}),e.jsx("div",{className:"text-white",children:r(t.marketCap)})]})]})]},t.asset))})]})]},b)})]}):null},De=({portfolioValue:y,availableAssets:F=[],onInvest:k})=>{const[w,b]=l.useState("opportunities"),[o,c]=l.useState([]),[g,T]=l.useState([]),[f,P]=l.useState([]),[E,N]=l.useState([]),[S,n]=l.useState("all"),[m,R]=l.useState("all"),[h,p]=l.useState("all"),[A,L]=l.useState(""),[$,r]=l.useState("apy"),[x,D]=l.useState(!1),[C,I]=l.useState(!1);l.useEffect(()=>{I(!0),setTimeout(()=>{const s=[{id:"aave-usdc",protocol:"Aave V3",chain:"Ethereum",asset:"USDC",type:"lending",apy:4.2,tvl:25e8,riskLevel:"low",lockPeriod:0,minDeposit:1,maxCapacity:5e9,currentCapacity:25e8,fees:{deposit:0,withdrawal:0,performance:0},rewards:["AAVE"],description:"Supply USDC to Aave V3 for stable yield with instant liquidity",auditStatus:"audited",isActive:!0,trending:!1},{id:"curve-3pool",protocol:"Curve Finance",chain:"Ethereum",asset:"USDC/USDT/DAI",type:"liquidity_pool",apy:8.5,tvl:12e8,riskLevel:"low",lockPeriod:0,minDeposit:10,maxCapacity:2e9,currentCapacity:12e8,fees:{deposit:0,withdrawal:.04,performance:0},rewards:["CRV","CVX"],description:"Provide liquidity to the stable 3pool for trading fees and rewards",auditStatus:"audited",isActive:!0,trending:!0},{id:"lido-eth",protocol:"Lido",chain:"Ethereum",asset:"ETH",type:"staking",apy:5.8,tvl:18e9,riskLevel:"low",lockPeriod:0,minDeposit:.01,maxCapacity:5e10,currentCapacity:18e9,fees:{deposit:0,withdrawal:0,performance:10},rewards:["stETH"],description:"Liquid staking for Ethereum 2.0 with instant liquidity",auditStatus:"audited",isActive:!0,trending:!0},{id:"compound-usdc",protocol:"Compound V3",chain:"Ethereum",asset:"USDC",type:"lending",apy:3.8,tvl:8e8,riskLevel:"low",lockPeriod:0,minDeposit:1,maxCapacity:2e9,currentCapacity:8e8,fees:{deposit:0,withdrawal:0,performance:0},rewards:["COMP"],description:"Lend USDC on Compound for stable returns and COMP rewards",auditStatus:"audited",isActive:!0,trending:!1},{id:"yearn-yvusdc",protocol:"Yearn Finance",chain:"Ethereum",asset:"USDC",type:"vault",apy:12.4,tvl:45e7,riskLevel:"medium",lockPeriod:0,minDeposit:1,maxCapacity:1e9,currentCapacity:45e7,fees:{deposit:0,withdrawal:.5,performance:20},rewards:["YFI"],description:"Automated yield farming strategy with multiple protocols",auditStatus:"audited",isActive:!0,trending:!0},{id:"pancake-cake",protocol:"PancakeSwap",chain:"BSC",asset:"CAKE",type:"staking",apy:18.5,tvl:32e7,riskLevel:"high",lockPeriod:52,minDeposit:.1,maxCapacity:5e8,currentCapacity:32e7,fees:{deposit:0,withdrawal:2,performance:0},rewards:["CAKE"],description:"Stake CAKE tokens for high yield with 52-week lock",auditStatus:"audited",isActive:!0,trending:!1}],j=[{id:"coinbase-validator",name:"Coinbase Cloud",chain:"Ethereum",commission:8,apy:5.2,uptime:99.8,totalStaked:25e5,riskScore:95,description:"Enterprise-grade validator with high uptime and security",website:"https://cloud.coinbase.com"},{id:"kraken-validator",name:"Kraken",chain:"Ethereum",commission:15,apy:4.8,uptime:99.5,totalStaked:18e5,riskScore:92,description:"Established exchange validator with proven track record"},{id:"rocketpool-node",name:"Rocket Pool",chain:"Ethereum",commission:14,apy:4.9,uptime:99.2,totalStaked:95e4,riskScore:88,description:"Decentralized staking protocol with distributed validators"}],M=[{id:"aave-eth-usdc",name:"Aave V3",chain:"Ethereum",asset:"USDC",supplyApy:4.2,borrowApy:5.8,utilization:72,totalSupply:25e8,totalBorrow:18e8,collateralFactor:85,liquidationThreshold:87,riskLevel:"low"},{id:"compound-eth-usdc",name:"Compound V3",chain:"Ethereum",asset:"USDC",supplyApy:3.8,borrowApy:5.2,utilization:68,totalSupply:8e8,totalBorrow:544e6,collateralFactor:80,liquidationThreshold:85,riskLevel:"low"}],W=[{id:"stable-conservative",name:"Conservative Stablecoin Strategy",description:"Low-risk strategy focusing on audited protocols and stablecoins",expectedApy:6.2,riskLevel:"low",complexity:"simple",steps:[{protocol:"Aave V3",action:"Supply USDC",allocation:60,expectedReturn:4.2},{protocol:"Curve 3Pool",action:"Provide Liquidity",allocation:40,expectedReturn:8.5}],totalInvestment:1e4,projectedReturns:{daily:1.7,weekly:11.92,monthly:51.67,yearly:620}},{id:"eth-staking-plus",name:"ETH Staking Plus",description:"Combine ETH staking with DeFi strategies for enhanced yield",expectedApy:9.8,riskLevel:"medium",complexity:"intermediate",steps:[{protocol:"Lido",action:"Stake ETH",allocation:70,expectedReturn:5.8},{protocol:"Curve stETH",action:"LP with stETH",allocation:30,expectedReturn:18.5}],totalInvestment:1e4,projectedReturns:{daily:2.68,weekly:18.77,monthly:81.67,yearly:980}}];c(s),T(j),P(M),N(W),I(!1)},1500)},[]);const d=[...o.filter(s=>{const j=S==="all"||s.chain.toLowerCase().includes(S.toLowerCase()),M=m==="all"||s.riskLevel===m,W=h==="all"||s.type===h,le=s.protocol.toLowerCase().includes(A.toLowerCase())||s.asset.toLowerCase().includes(A.toLowerCase()),ae=!x||s.auditStatus==="audited";return j&&M&&W&&le&&ae&&s.isActive})].sort((s,j)=>{switch($){case"apy":return j.apy-s.apy;case"tvl":return j.tvl-s.tvl;case"risk":const M={low:1,medium:2,high:3};return M[s.riskLevel]-M[j.riskLevel];default:return 0}}),i=s=>s>=1e9?`$${(s/1e9).toFixed(1)}B`:s>=1e6?`$${(s/1e6).toFixed(1)}M`:s>=1e3?`$${(s/1e3).toFixed(1)}K`:`$${s.toFixed(2)}`,a=s=>{switch(s){case"low":return"text-green-400";case"medium":return"text-yellow-400";case"high":return"text-red-400";default:return"text-white/60"}},u=s=>{switch(s){case"audited":return"text-green-400";case"pending":return"text-yellow-400";case"unaudited":return"text-red-400";default:return"text-white/60"}};return C?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(U,{className:"w-16 h-16 text-white/20 mx-auto mb-4 animate-spin"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Finding Yield Opportunities"}),e.jsx("p",{className:"text-white/60",children:"Scanning protocols for the best yields..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Yield Optimization"}),e.jsx("p",{className:"text-white/60",children:"Discover and optimize yield opportunities across DeFi protocols"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:e.jsx(U,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:e.jsx(se,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(K,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Best APY"}),e.jsxs("p",{className:"text-3xl font-bold text-yellow-400",children:[Math.max(...o.map(s=>s.apy)).toFixed(1),"%"]})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(q,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Total TVL"}),e.jsx("p",{className:"text-3xl font-bold text-green-400",children:i(o.reduce((s,j)=>s+j.tvl,0))})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(B,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Opportunities"}),e.jsx("p",{className:"text-3xl font-bold text-blue-400",children:o.length})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(O,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Audited"}),e.jsx("p",{className:"text-3xl font-bold text-purple-400",children:o.filter(s=>s.auditStatus==="audited").length})]})]}),e.jsx("div",{className:"flex space-x-1 bg-white/5 p-1 rounded-lg",children:[{id:"opportunities",label:"Opportunities",icon:e.jsx(K,{className:"w-4 h-4"})},{id:"staking",label:"Staking",icon:e.jsx(O,{className:"w-4 h-4"})},{id:"lending",label:"Lending",icon:e.jsx(q,{className:"w-4 h-4"})},{id:"strategies",label:"Strategies",icon:e.jsx(B,{className:"w-4 h-4"})},{id:"calculator",label:"Calculator",icon:e.jsx(Q,{className:"w-4 h-4"})}].map(s=>e.jsxs("button",{onClick:()=>b(s.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-colors ${w===s.id?"bg-purple-600 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[s.icon,s.label]},s.id))}),e.jsx(H,{mode:"wait",children:e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[w==="opportunities"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search protocols or assets...",value:A,onChange:s=>L(s.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-purple-400"})]}),e.jsxs("select",{value:S,onChange:s=>n(s.target.value),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"all",className:"bg-gray-800",children:"All Chains"}),e.jsx("option",{value:"ethereum",className:"bg-gray-800",children:"Ethereum"}),e.jsx("option",{value:"bsc",className:"bg-gray-800",children:"BSC"}),e.jsx("option",{value:"polygon",className:"bg-gray-800",children:"Polygon"}),e.jsx("option",{value:"arbitrum",className:"bg-gray-800",children:"Arbitrum"})]}),e.jsxs("select",{value:m,onChange:s=>R(s.target.value),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"all",className:"bg-gray-800",children:"All Risk Levels"}),e.jsx("option",{value:"low",className:"bg-gray-800",children:"Low Risk"}),e.jsx("option",{value:"medium",className:"bg-gray-800",children:"Medium Risk"}),e.jsx("option",{value:"high",className:"bg-gray-800",children:"High Risk"})]}),e.jsxs("select",{value:h,onChange:s=>p(s.target.value),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"all",className:"bg-gray-800",children:"All Types"}),e.jsx("option",{value:"staking",className:"bg-gray-800",children:"Staking"}),e.jsx("option",{value:"lending",className:"bg-gray-800",children:"Lending"}),e.jsx("option",{value:"liquidity_pool",className:"bg-gray-800",children:"Liquidity Pool"}),e.jsx("option",{value:"yield_farming",className:"bg-gray-800",children:"Yield Farming"}),e.jsx("option",{value:"vault",className:"bg-gray-800",children:"Vault"})]}),e.jsxs("button",{onClick:()=>D(!x),className:`flex items-center gap-2 px-4 py-3 rounded-lg transition-colors ${x?"bg-green-600 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:[e.jsx(O,{className:"w-4 h-4"}),"Audited Only"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-white/60",children:"Sort by:"}),e.jsx("div",{className:"flex gap-2",children:[{value:"apy",label:"APY"},{value:"tvl",label:"TVL"},{value:"risk",label:"Risk"}].map(s=>e.jsx("button",{onClick:()=>r(s.value),className:`px-3 py-1 rounded text-sm transition-colors ${$===s.value?"bg-purple-600 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:s.label},s.value))})]}),e.jsx("div",{className:"space-y-4",children:d.map((s,j)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:j*.05},className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-xl font-bold text-white",children:s.protocol}),e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs font-medium",children:s.chain}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${s.type==="staking"?"bg-green-500/20 text-green-400":s.type==="lending"?"bg-blue-500/20 text-blue-400":s.type==="liquidity_pool"?"bg-purple-500/20 text-purple-400":s.type==="yield_farming"?"bg-yellow-500/20 text-yellow-400":"bg-pink-500/20 text-pink-400"}`,children:s.type.replace("_"," ")}),s.trending&&e.jsx("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-400 rounded text-xs font-medium",children:"🔥 Trending"})]}),e.jsx("p",{className:"text-white/80 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-white/60",children:["Asset: ",e.jsx("span",{className:"text-white",children:s.asset})]}),e.jsxs("span",{className:"text-white/60",children:["Min: ",e.jsx("span",{className:"text-white",children:i(s.minDeposit)})]}),e.jsxs("span",{className:"text-white/60",children:["Lock: ",e.jsx("span",{className:"text-white",children:s.lockPeriod===0?"None":`${s.lockPeriod} days`})]}),e.jsx("span",{className:`${u(s.auditStatus)}`,children:s.auditStatus==="audited"?"✓ Audited":s.auditStatus==="pending"?"⏳ Pending":"⚠ Unaudited"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-1",children:[s.apy.toFixed(1),"%"]}),e.jsx("div",{className:"text-white/60 text-sm mb-2",children:"APY"}),e.jsxs("div",{className:`text-sm font-medium ${a(s.riskLevel)}`,children:[s.riskLevel.toUpperCase()," RISK"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"TVL:"}),e.jsx("div",{className:"text-white font-medium",children:i(s.tvl)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Capacity:"}),e.jsxs("div",{className:"text-white font-medium",children:[(s.currentCapacity/s.maxCapacity*100).toFixed(0),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Rewards:"}),e.jsx("div",{className:"text-purple-400 font-medium",children:s.rewards.join(", ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Fees:"}),e.jsx("div",{className:"text-white font-medium",children:s.fees.performance>0?`${s.fees.performance}%`:"None"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>k?.(s,1e3),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Invest"}),e.jsx("button",{className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:e.jsx(be,{className:"w-4 h-4"})})]})]},s.id))}),d.length===0&&e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(_,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Opportunities Found"}),e.jsx("p",{className:"text-white/60",children:"Try adjusting your filters to see more results"})]})]}),w==="staking"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Staking Validators"}),e.jsx("div",{className:"space-y-4",children:g.map((s,j)=>e.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:j*.1},className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:s.name}),e.jsx("p",{className:"text-white/60 text-sm",children:s.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-green-400 font-bold text-lg",children:[s.apy.toFixed(1),"%"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"APY"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Commission:"}),e.jsxs("div",{className:"text-white",children:[s.commission,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Uptime:"}),e.jsxs("div",{className:"text-green-400",children:[s.uptime,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Total Staked:"}),e.jsx("div",{className:"text-white",children:i(s.totalStaked)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Risk Score:"}),e.jsxs("div",{className:"text-blue-400",children:[s.riskScore,"/100"]})]})]})]},s.id))})]}),w==="lending"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Lending Protocols"}),e.jsx("div",{className:"space-y-4",children:f.map((s,j)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:j*.1},className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:s.name}),e.jsxs("p",{className:"text-white/60 text-sm",children:[s.asset," on ",s.chain]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-green-400 font-bold",children:[s.supplyApy.toFixed(1),"%"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Supply APY"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Borrow APY:"}),e.jsxs("div",{className:"text-red-400",children:[s.borrowApy.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Utilization:"}),e.jsxs("div",{className:"text-white",children:[s.utilization,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Total Supply:"}),e.jsx("div",{className:"text-white",children:i(s.totalSupply)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"Risk Level:"}),e.jsx("div",{className:a(s.riskLevel),children:s.riskLevel.toUpperCase()})]})]})]},s.id))})]}),w==="strategies"&&e.jsx("div",{className:"space-y-6",children:E.map((s,j)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:j*.1},className:"glass-card p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-xl font-bold text-white",children:s.name}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${a(s.riskLevel)} bg-current/20`,children:[s.riskLevel," risk"]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.complexity==="simple"?"bg-green-500/20 text-green-400":s.complexity==="intermediate"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:s.complexity})]}),e.jsx("p",{className:"text-white/80 mb-4",children:s.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-400",children:[s.expectedApy.toFixed(1),"%"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Expected APY"})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("h5",{className:"text-white font-medium",children:"Strategy Steps:"}),s.steps.map((M,W)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:M.protocol}),e.jsxs("span",{className:"text-white/60 ml-2",children:["- ",M.action]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[M.allocation,"%"]}),e.jsxs("div",{className:"text-green-400 text-sm",children:[M.expectedReturn.toFixed(1),"% APY"]})]})]},W))]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Daily:"}),e.jsx("div",{className:"text-green-400 font-medium",children:i(s.projectedReturns.daily)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Weekly:"}),e.jsx("div",{className:"text-green-400 font-medium",children:i(s.projectedReturns.weekly)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Monthly:"}),e.jsx("div",{className:"text-green-400 font-medium",children:i(s.projectedReturns.monthly)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Yearly:"}),e.jsx("div",{className:"text-green-400 font-medium",children:i(s.projectedReturns.yearly)})]})]}),e.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"Execute Strategy"})]},s.id))}),w==="calculator"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Yield Calculator"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Investment Amount"}),e.jsx("input",{type:"number",defaultValue:1e4,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"APY (%)"}),e.jsx("input",{type:"number",step:"0.1",defaultValue:8.5,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Time Period (months)"}),e.jsx("input",{type:"number",defaultValue:12,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Compounding"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white",children:[e.jsx("option",{value:"daily",className:"bg-gray-800",children:"Daily"}),e.jsx("option",{value:"weekly",className:"bg-gray-800",children:"Weekly"}),e.jsx("option",{value:"monthly",className:"bg-gray-800",children:"Monthly"}),e.jsx("option",{value:"yearly",className:"bg-gray-800",children:"Yearly"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Projected Returns"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Initial Investment:"}),e.jsx("span",{className:"text-white font-medium",children:"$10,000"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Total Interest:"}),e.jsx("span",{className:"text-green-400 font-medium",children:"$850"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Final Amount:"}),e.jsx("span",{className:"text-green-400 font-bold text-lg",children:"$10,850"})]})]}),e.jsx("div",{className:"h-32 bg-gray-800/50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(z,{className:"w-8 h-8 text-white/20 mx-auto mb-2"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Growth Chart"})]})})]})]})]})]},w)})]})},Pe=({portfolioValue:y,holdings:F=[],riskProfile:k="moderate",onActionTaken:w})=>{const[b,o]=l.useState("insights"),[c,g]=l.useState([]),[T,f]=l.useState([]),[P,E]=l.useState([]),[N,S]=l.useState("all"),[n,m]=l.useState("all"),[R,h]=l.useState(!1),[p,A]=l.useState(""),[L,$]=l.useState([]);l.useEffect(()=>{h(!0),setTimeout(()=>{const a=[{id:"insight-1",type:"recommendation",title:"Optimize Portfolio Allocation",description:"Your portfolio is overweight in Bitcoin (65%). Consider rebalancing to reduce concentration risk.",confidence:87,priority:"high",category:"allocation",actionable:!0,estimatedImpact:{type:"risk_reduction",value:15.2,timeframe:"1 month"},reasoning:["Bitcoin allocation exceeds recommended 40% for moderate risk profile","High correlation with other crypto holdings increases portfolio volatility","Diversification could improve risk-adjusted returns"],relatedAssets:["BTC","ETH"],createdAt:Date.now()-72e5,isRead:!1},{id:"insight-2",type:"opportunity",title:"DeFi Yield Opportunity",description:"Curve 3Pool offers 8.5% APY with low risk - consider moving idle USDC.",confidence:92,priority:"medium",category:"yield",actionable:!0,estimatedImpact:{type:"return",value:425,timeframe:"1 year"},reasoning:["Current USDC earning 0% in wallet","Curve 3Pool has strong audit history and low impermanent loss risk","APY significantly higher than traditional savings"],relatedAssets:["USDC"],createdAt:Date.now()-144e5,isRead:!1},{id:"insight-3",type:"alert",title:"Tax Loss Harvesting Opportunity",description:"SOL position down 12% - consider harvesting losses before year-end.",confidence:78,priority:"medium",category:"tax",actionable:!0,estimatedImpact:{type:"cost_savings",value:1200,timeframe:"tax year"},reasoning:["SOL position showing unrealized loss of $1,200","Tax loss harvesting could offset other gains","Can repurchase after 30-day wash sale period"],relatedAssets:["SOL"],createdAt:Date.now()-216e5,isRead:!0},{id:"insight-4",type:"risk_warning",title:"High Correlation Risk",description:"Your top 3 holdings have 85% correlation - consider diversification.",confidence:94,priority:"high",category:"risk",actionable:!0,estimatedImpact:{type:"risk_reduction",value:22.5,timeframe:"3 months"},reasoning:["BTC, ETH, and SOL move together during market stress","Lack of uncorrelated assets increases portfolio volatility","Adding traditional assets or stablecoins could help"],relatedAssets:["BTC","ETH","SOL"],createdAt:Date.now()-288e5,isRead:!1},{id:"insight-5",type:"prediction",title:"Market Volatility Expected",description:"AI models predict increased volatility in next 2 weeks due to Fed meeting.",confidence:73,priority:"medium",category:"market",actionable:!1,estimatedImpact:{type:"risk_reduction",value:8.5,timeframe:"2 weeks"},reasoning:["Historical patterns show volatility spikes around Fed announcements","Options market pricing in 25% increase in volatility","Recommend reducing leverage and increasing cash position"],relatedAssets:["BTC","ETH"],createdAt:Date.now()-432e5,isRead:!0}],u=[{asset:"BTC",timeframe:"1M",direction:"bullish",confidence:78,priceTarget:{low:42e3,high:52e3,expected:47e3},probability:68,factors:["Institutional adoption increasing","ETF approval momentum","Halving event approaching","Macro environment improving"],riskFactors:["Regulatory uncertainty","Market correlation with tech stocks","Profit-taking at resistance levels"]},{asset:"ETH",timeframe:"3M",direction:"bullish",confidence:82,priceTarget:{low:2800,high:3800,expected:3300},probability:72,factors:["Shanghai upgrade success","DeFi ecosystem growth","Layer 2 adoption","Staking yield attractive"],riskFactors:["Competition from other L1s","Gas fee concerns","Regulatory scrutiny on staking"]},{asset:"SOL",timeframe:"1W",direction:"neutral",confidence:65,priceTarget:{low:95,high:115,expected:105},probability:58,factors:["Network stability improving","Developer activity high","Mobile integration progress"],riskFactors:["Past network outages","Centralization concerns","Competition from other chains"]}],s=[{id:"rec-1",title:"Rebalance to Target Allocation",description:"Reduce BTC to 40%, increase ETH to 35%, add 15% stablecoins, 10% DeFi tokens",type:"rebalance",urgency:"high",expectedBenefit:2400,riskLevel:"low",reasoning:"Current allocation deviates significantly from optimal risk-adjusted portfolio",steps:["Sell $12,000 worth of BTC","Buy $4,000 worth of ETH","Buy $6,000 worth of USDC","Buy $2,000 worth of UNI/AAVE"],estimatedCost:85,timeToImplement:"1 hour"},{id:"rec-2",title:"Stake ETH for Additional Yield",description:"Stake your ETH holdings through Lido for 5.8% APY while maintaining liquidity",type:"buy",urgency:"medium",expectedBenefit:1450,riskLevel:"low",reasoning:"ETH staking provides additional yield with minimal additional risk",steps:["Connect wallet to Lido protocol","Stake ETH to receive stETH","Monitor staking rewards","Consider using stETH in DeFi for additional yield"],estimatedCost:25,timeToImplement:"30 minutes"},{id:"rec-3",title:"Add Uncorrelated Assets",description:"Consider adding gold-backed tokens or real estate tokens to reduce correlation",type:"diversify",urgency:"low",expectedBenefit:800,riskLevel:"medium",reasoning:"Portfolio lacks assets that move independently of crypto markets",steps:["Research tokenized gold options (PAXG, XAUT)","Evaluate real estate tokens (RealT, Lofty)","Allocate 5-10% to uncorrelated assets","Monitor correlation metrics"],estimatedCost:150,timeToImplement:"2 hours"}];g(a),f(u),E(s),h(!1)},2e3)},[y,k]);const r=c.filter(a=>{const u=N==="all"||a.category===N,s=n==="all"||a.priority===n;return u&&s}),x=(a,u)=>{g(s=>s.map(j=>j.id===a?{...j,userFeedback:u}:j))},D=a=>{g(u=>u.map(s=>s.id===a?{...s,isRead:!0}:s))},C=a=>{switch(a){case"critical":return"text-red-400";case"high":return"text-orange-400";case"medium":return"text-yellow-400";case"low":return"text-green-400";default:return"text-white/60"}},I=a=>{switch(a){case"recommendation":return e.jsx(Ce,{className:"w-5 h-5"});case"prediction":return e.jsx(Y,{className:"w-5 h-5"});case"alert":return e.jsx(te,{className:"w-5 h-5"});case"opportunity":return e.jsx(B,{className:"w-5 h-5"});case"risk_warning":return e.jsx(O,{className:"w-5 h-5"});default:return e.jsx(V,{className:"w-5 h-5"})}},t=a=>{switch(a){case"bullish":return"text-green-400";case"bearish":return"text-red-400";case"neutral":return"text-yellow-400";default:return"text-white/60"}},d=a=>`$${a.toLocaleString()}`,i=a=>{const s=Date.now()-a,j=Math.floor(s/(1e3*60*60)),M=Math.floor(s%(1e3*60*60)/(1e3*60));return j>0?`${j}h ago`:`${M}m ago`};return R?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(V,{className:"w-16 h-16 text-white/20 mx-auto mb-4 animate-pulse"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"AI Analyzing Portfolio"}),e.jsx("p",{className:"text-white/60",children:"Generating personalized insights and recommendations..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"AI Portfolio Insights"}),e.jsx("p",{className:"text-white/60",children:"Personalized recommendations powered by machine learning"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white font-medium transition-colors",children:[e.jsx(U,{className:"w-4 h-4"}),"Refresh Insights"]})})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(V,{className:"w-8 h-8 text-purple-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"AI Portfolio Summary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:"8.5/10"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Portfolio Health Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:r.filter(a=>!a.isRead).length}),e.jsx("div",{className:"text-white/60 text-sm",children:"Unread Insights"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:r.filter(a=>a.actionable).length}),e.jsx("div",{className:"text-white/60 text-sm",children:"Actionable Items"})]})]})]}),e.jsx("div",{className:"flex space-x-1 bg-white/5 p-1 rounded-lg",children:[{id:"insights",label:"Insights",icon:e.jsx(V,{className:"w-4 h-4"})},{id:"predictions",label:"Predictions",icon:e.jsx(Y,{className:"w-4 h-4"})},{id:"recommendations",label:"Recommendations",icon:e.jsx(B,{className:"w-4 h-4"})},{id:"chat",label:"AI Chat",icon:e.jsx(ve,{className:"w-4 h-4"})}].map(a=>e.jsxs("button",{onClick:()=>o(a.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-colors ${b===a.id?"bg-purple-600 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[a.icon,a.label]},a.id))}),e.jsx(H,{mode:"wait",children:e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[b==="insights"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("select",{value:N,onChange:a=>S(a.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"all",className:"bg-gray-800",children:"All Categories"}),e.jsx("option",{value:"allocation",className:"bg-gray-800",children:"Allocation"}),e.jsx("option",{value:"rebalancing",className:"bg-gray-800",children:"Rebalancing"}),e.jsx("option",{value:"yield",className:"bg-gray-800",children:"Yield"}),e.jsx("option",{value:"risk",className:"bg-gray-800",children:"Risk"}),e.jsx("option",{value:"market",className:"bg-gray-800",children:"Market"}),e.jsx("option",{value:"tax",className:"bg-gray-800",children:"Tax"})]}),e.jsxs("select",{value:n,onChange:a=>m(a.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"all",className:"bg-gray-800",children:"All Priorities"}),e.jsx("option",{value:"critical",className:"bg-gray-800",children:"Critical"}),e.jsx("option",{value:"high",className:"bg-gray-800",children:"High"}),e.jsx("option",{value:"medium",className:"bg-gray-800",children:"Medium"}),e.jsx("option",{value:"low",className:"bg-gray-800",children:"Low"})]})]}),e.jsx("div",{className:"space-y-4",children:r.map((a,u)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:`glass-card p-6 ${a.isRead?"":"border border-purple-400/30"}`,onClick:()=>D(a.id),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${a.type==="recommendation"?"bg-blue-500/20 text-blue-400":a.type==="prediction"?"bg-green-500/20 text-green-400":a.type==="alert"?"bg-yellow-500/20 text-yellow-400":a.type==="opportunity"?"bg-purple-500/20 text-purple-400":"bg-red-500/20 text-red-400"}`,children:I(a.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-white font-medium",children:a.title}),!a.isRead&&e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C(a.priority)} bg-current/20`,children:a.priority}),e.jsx("span",{className:"px-2 py-1 bg-gray-500/20 text-gray-400 rounded text-xs font-medium capitalize",children:a.category})]}),e.jsx("p",{className:"text-white/80 mb-3",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm mb-3",children:[e.jsxs("span",{className:"text-white/60",children:["Confidence: ",e.jsxs("span",{className:"text-white",children:[a.confidence,"%"]})]}),e.jsxs("span",{className:"text-white/60",children:["Impact: ",e.jsxs("span",{className:"text-green-400",children:[a.estimatedImpact.type==="return"?"+":"",a.estimatedImpact.value,a.estimatedImpact.type==="return"?"$":"%"]})]}),e.jsx("span",{className:"text-white/60",children:i(a.createdAt)})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("h5",{className:"text-white/80 font-medium text-sm",children:"Reasoning:"}),e.jsx("ul",{className:"space-y-1",children:a.reasoning.map((s,j)=>e.jsxs("li",{className:"flex items-start gap-2 text-white/70 text-sm",children:[e.jsx(re,{className:"w-3 h-3 text-green-400 mt-1 flex-shrink-0"}),s]},j))})]}),a.relatedAssets.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Related assets:"}),a.relatedAssets.map(s=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs",children:s},s))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),x(a.id,"helpful")},className:`p-2 rounded-lg transition-colors ${a.userFeedback==="helpful"?"bg-green-600 text-white":"bg-white/10 hover:bg-white/20 text-white/60"}`,children:e.jsx(fe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),x(a.id,"not_helpful")},className:`p-2 rounded-lg transition-colors ${a.userFeedback==="not_helpful"?"bg-red-600 text-white":"bg-white/10 hover:bg-white/20 text-white/60"}`,children:e.jsx(ye,{className:"w-4 h-4"})})]})]}),a.actionable&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>w?.(a,"implement"),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Take Action"}),e.jsx("button",{onClick:()=>w?.(a,"dismiss"),className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:"Dismiss"})]})]},a.id))})]}),b==="predictions"&&e.jsx("div",{className:"space-y-6",children:T.map((a,u)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"glass-card p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-xl font-bold text-white",children:a.asset}),e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-sm font-medium",children:a.timeframe}),e.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium capitalize ${t(a.direction)} bg-current/20`,children:a.direction})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Expected Price:"}),e.jsx("div",{className:"text-white font-bold",children:d(a.priceTarget.expected)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Range:"}),e.jsxs("div",{className:"text-white font-medium",children:[d(a.priceTarget.low)," - ",d(a.priceTarget.high)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Probability:"}),e.jsxs("div",{className:"text-green-400 font-bold",children:[a.probability,"%"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[a.confidence,"%"]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Confidence"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-white font-medium mb-2",children:"Bullish Factors:"}),e.jsx("ul",{className:"space-y-1",children:a.factors.map((s,j)=>e.jsxs("li",{className:"flex items-start gap-2 text-white/70 text-sm",children:[e.jsx(re,{className:"w-3 h-3 text-green-400 mt-1 flex-shrink-0"}),s]},j))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-white font-medium mb-2",children:"Risk Factors:"}),e.jsx("ul",{className:"space-y-1",children:a.riskFactors.map((s,j)=>e.jsxs("li",{className:"flex items-start gap-2 text-white/70 text-sm",children:[e.jsx(te,{className:"w-3 h-3 text-red-400 mt-1 flex-shrink-0"}),s]},j))})]})]})]},`${a.asset}-${a.timeframe}`))}),b==="recommendations"&&e.jsx("div",{className:"space-y-6",children:P.map((a,u)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"glass-card p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-xl font-bold text-white",children:a.title}),e.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium capitalize ${a.type==="buy"?"bg-green-500/20 text-green-400":a.type==="sell"?"bg-red-500/20 text-red-400":a.type==="hold"?"bg-yellow-500/20 text-yellow-400":a.type==="rebalance"?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:a.type}),e.jsxs("span",{className:`px-2 py-1 rounded text-sm font-medium ${a.urgency==="high"?"bg-red-500/20 text-red-400":a.urgency==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[a.urgency," urgency"]})]}),e.jsx("p",{className:"text-white/80 mb-4",children:a.description}),e.jsx("p",{className:"text-white/70 text-sm mb-4",children:a.reasoning})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["+",d(a.expectedBenefit)]}),e.jsx("div",{className:"text-white/60 text-sm",children:"Expected Benefit"})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("h5",{className:"text-white font-medium",children:"Implementation Steps:"}),a.steps.map((s,j)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:j+1}),e.jsx("span",{className:"text-white/80",children:s})]},j))]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Estimated Cost:"}),e.jsx("div",{className:"text-white font-medium",children:d(a.estimatedCost)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Time to Implement:"}),e.jsx("div",{className:"text-white font-medium",children:a.timeToImplement})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Risk Level:"}),e.jsx("div",{className:`font-medium capitalize ${a.riskLevel==="low"?"text-green-400":a.riskLevel==="medium"?"text-yellow-400":"text-red-400"}`,children:a.riskLevel})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"Implement Recommendation"}),e.jsx("button",{className:"px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:"Learn More"})]})]},a.id))}),b==="chat"&&e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Portfolio Assistant"}),e.jsx("div",{className:"h-64 bg-gray-800/50 rounded-lg p-4 mb-4 overflow-y-auto",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{className:"w-6 h-6 text-purple-400 mt-1"}),e.jsx("div",{className:"bg-purple-600/20 rounded-lg p-3 flex-1",children:e.jsx("p",{className:"text-white",children:"Hello! I'm your AI portfolio assistant. I can help you with investment strategies, risk analysis, and portfolio optimization. What would you like to know?"})})]}),L.map((a,u)=>e.jsxs("div",{className:`flex items-start gap-3 ${a.isUser?"flex-row-reverse":""}`,children:[a.isUser?e.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"U"}):e.jsx(V,{className:"w-6 h-6 text-purple-400 mt-1"}),e.jsx("div",{className:`rounded-lg p-3 flex-1 ${a.isUser?"bg-blue-600/20":"bg-purple-600/20"}`,children:e.jsx("p",{className:"text-white",children:a.text})})]},u))]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:p,onChange:a=>A(a.target.value),placeholder:"Ask me about your portfolio...",className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-purple-400",onKeyPress:a=>{a.key==="Enter"&&p.trim()&&($(u=>[...u,{text:p,isUser:!0}]),A(""),setTimeout(()=>{$(u=>[...u,{text:"I understand you're asking about portfolio optimization. Based on your current holdings, I recommend focusing on diversification and risk management. Would you like me to provide specific recommendations?",isUser:!1}])},1e3))}}),e.jsx("button",{onClick:()=>{p.trim()&&($(a=>[...a,{text:p,isUser:!0}]),A(""))},className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Send"})]})]})]},b)})]})},He=()=>{const[y,F]=l.useState("overview"),[k,w]=l.useState([]),[b,o]=l.useState(new Date),[c]=l.useState({totalValue:5e4,dayChange:1250,dayChangePercent:2.56,holdings:[{symbol:"BTC",name:"Bitcoin",quantity:.5,avgPrice:42e3,currentPrice:45200,value:22600,allocation:45.2,pnl:1600,pnlPercent:7.6,dayChange:800,dayChangePercent:3.7},{symbol:"ETH",name:"Ethereum",quantity:8,avgPrice:2800,currentPrice:2950,value:23600,allocation:47.2,pnl:1200,pnlPercent:5.4,dayChange:400,dayChangePercent:1.7},{symbol:"SOL",name:"Solana",quantity:40,avgPrice:95,currentPrice:105,value:4200,allocation:8.4,pnl:400,pnlPercent:10.5,dayChange:200,dayChangePercent:5}]}),[g,T]=l.useState("1M"),[f,P]=l.useState(!0);l.useEffect(()=>((async()=>{try{await Z.initialize(),Z.on("pricesUpdated",R=>{w(R),o(new Date)});const m=Z.getPrices();w(m)}catch(m){console.warn("Real-time portfolio data initialization failed:",m)}})(),()=>{Z.removeAllListeners()}),[]);const E=n=>`$${n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,N=n=>`${n>=0?"+":""}${n.toFixed(2)}%`,S=n=>n>0?"text-green-400":n<0?"text-red-400":"text-white/60";return e.jsx("div",{className:"min-h-screen py-20 px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(v.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-400 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(ke,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"Portfolio Management"}),e.jsx("p",{className:"text-xl text-white/70 max-w-2xl mx-auto",children:"Professional-grade portfolio tracking, analytics, and optimization powered by AI"})]}),k.length>0&&e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Real-Time Market Data"}),e.jsxs("span",{className:"text-sm text-green-400",children:["Updated: ",b.toLocaleTimeString()]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 text-sm",children:"Total Market Cap"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",(k.reduce((n,m)=>n+m.marketCap,0)/1e12).toFixed(2),"T"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 text-sm",children:"24h Volume"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",(k.reduce((n,m)=>n+m.volume24h,0)/1e9).toFixed(1),"B"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 text-sm",children:"BTC Price"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",k.find(n=>n.symbol==="BITCOIN")?.price.toLocaleString()||"N/A"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 text-sm",children:"ETH Price"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",k.find(n=>n.symbol==="ETHEREUM")?.price.toLocaleString()||"N/A"]})]})]})]})}),e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(q,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Total Value"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:f?E(c.totalValue):"••••••"})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(Y,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"24h Change"}),e.jsx("p",{className:`text-3xl font-bold ${S(c.dayChange)}`,children:f?E(c.dayChange):"••••••"}),e.jsx("p",{className:`text-sm ${S(c.dayChangePercent)}`,children:f?N(c.dayChangePercent):"••••"})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(G,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Holdings"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:c.holdings.length}),e.jsx("p",{className:"text-sm text-white/60",children:"Assets"})]}),e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx(B,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Performance"}),e.jsx("p",{className:"text-3xl font-bold text-green-400",children:"+12.4%"}),e.jsx("p",{className:"text-sm text-white/60",children:"30-day return"})]})]}),e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"flex items-center justify-between mb-8",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("select",{value:g,onChange:n=>{T(n.target.value),console.log(`Portfolio timeframe changed to: ${n.target.value}`)},className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-400",children:[e.jsx("option",{value:"1D",className:"bg-gray-800",children:"1 Day"}),e.jsx("option",{value:"1W",className:"bg-gray-800",children:"1 Week"}),e.jsx("option",{value:"1M",className:"bg-gray-800",children:"1 Month"}),e.jsx("option",{value:"3M",className:"bg-gray-800",children:"3 Months"}),e.jsx("option",{value:"1Y",className:"bg-gray-800",children:"1 Year"}),e.jsx("option",{value:"ALL",className:"bg-gray-800",children:"All Time"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>P(!f),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${f?"bg-green-600 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:[f?e.jsx(X,{className:"w-4 h-4"}):e.jsx(J,{className:"w-4 h-4"}),f?"Hide":"Show"," Values"]}),e.jsx("button",{onClick:()=>{console.log("Refreshing portfolio data..."),window.location.reload()},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Refresh Portfolio Data",children:e.jsx(U,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{const n={totalValue:c.totalValue,holdings:c.holdings,exportDate:new Date().toISOString(),timeframe:g},m=JSON.stringify(n,null,2),R=new Blob([m],{type:"application/json"}),h=URL.createObjectURL(R),p=document.createElement("a");p.href=h,p.download=`portfolio-report-${new Date().toISOString().split("T")[0]}.json`,p.click(),URL.revokeObjectURL(h)},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Export Portfolio Report",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{alert(`Portfolio Settings:

• Currency: USD
• Update Frequency: Real-time
• Privacy Mode: `+(f?"Off":"On")+`
• Notifications: Enabled

Settings panel coming soon!`)},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Portfolio Settings",children:e.jsx(se,{className:"w-4 h-4"})})]})]}),e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-8",children:e.jsx("div",{className:"flex flex-wrap gap-2 bg-white/5 p-2 rounded-lg",children:[{id:"overview",label:"Overview",icon:e.jsx(z,{className:"w-4 h-4"})},{id:"tracker",label:"Multi-Chain Tracker",icon:e.jsx(B,{className:"w-4 h-4"})},{id:"performance",label:"Performance Analytics",icon:e.jsx(Y,{className:"w-4 h-4"})},{id:"tax",label:"Tax Reporting",icon:e.jsx(q,{className:"w-4 h-4"})},{id:"rebalancing",label:"Auto Rebalancing",icon:e.jsx(G,{className:"w-4 h-4"})},{id:"risk",label:"Risk Management",icon:e.jsx(O,{className:"w-4 h-4"})},{id:"yield",label:"Yield Optimization",icon:e.jsx(K,{className:"w-4 h-4"})},{id:"ai",label:"AI Insights",icon:e.jsx(V,{className:"w-4 h-4"})}].map(n=>e.jsxs("button",{onClick:()=>F(n.id),className:`flex items-center gap-2 py-3 px-4 rounded-lg font-medium transition-colors ${y===n.id?"bg-purple-600 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[n.icon,e.jsx("span",{className:"hidden sm:inline",children:n.label})]},n.id))})}),e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:[y==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Portfolio Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white/80 font-medium mb-3",children:"Asset Allocation"}),e.jsx("div",{className:"space-y-2",children:c.holdings.map((n,m)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:["#8b5cf6","#10b981","#f59e0b"][m]}}),e.jsx("span",{className:"text-white",children:n.symbol})]}),e.jsxs("span",{className:"text-white/60",children:[n.allocation.toFixed(1),"%"]})]},n.symbol))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white/80 font-medium mb-3",children:"Performance"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Total P&L:"}),e.jsxs("span",{className:"text-green-400",children:["+",E(3200)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Best Performer:"}),e.jsx("span",{className:"text-green-400",children:"SOL (+10.5%)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Sharpe Ratio:"}),e.jsx("span",{className:"text-white",children:"1.42"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white/80 font-medium mb-3",children:"Risk Metrics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Portfolio Risk:"}),e.jsx("span",{className:"text-yellow-400",children:"Medium"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Max Drawdown:"}),e.jsx("span",{className:"text-red-400",children:"-15.8%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Volatility:"}),e.jsx("span",{className:"text-white",children:"32.4%"})]})]})]})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>F("rebalancing"),className:"flex items-center gap-3 p-4 bg-purple-600/20 hover:bg-purple-600/30 rounded-lg transition-colors",children:[e.jsx(G,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"Rebalance"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Optimize allocation"})]})]}),e.jsxs("button",{onClick:()=>F("yield"),className:"flex items-center gap-3 p-4 bg-green-600/20 hover:bg-green-600/30 rounded-lg transition-colors",children:[e.jsx(K,{className:"w-6 h-6 text-green-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"Find Yield"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Earn more rewards"})]})]}),e.jsxs("button",{onClick:()=>F("risk"),className:"flex items-center gap-3 p-4 bg-yellow-600/20 hover:bg-yellow-600/30 rounded-lg transition-colors",children:[e.jsx(O,{className:"w-6 h-6 text-yellow-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"Check Risk"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Analyze exposure"})]})]}),e.jsxs("button",{onClick:()=>F("ai"),className:"flex items-center gap-3 p-4 bg-blue-600/20 hover:bg-blue-600/30 rounded-lg transition-colors",children:[e.jsx(V,{className:"w-6 h-6 text-blue-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"AI Insights"}),e.jsx("div",{className:"text-white/60 text-sm",children:"Get recommendations"})]})]})]})]})]}),y==="tracker"&&e.jsx(Se,{onWalletConnect:n=>console.log("Wallet connected:",n),onAssetSelect:(n,m)=>console.log("Asset selected:",n,m)}),y==="performance"&&e.jsx(Ae,{portfolioValue:c.totalValue,timeframe:g,onTimeframeChange:T}),y==="tax"&&e.jsx(Te,{taxYear:2024,onYearChange:n=>console.log("Tax year changed:",n),onExport:(n,m)=>console.log("Export:",n,m)}),y==="rebalancing"&&e.jsx(Re,{portfolioValue:c.totalValue,currentHoldings:c.holdings,onStrategyCreate:n=>console.log("Strategy created:",n),onRebalanceExecute:n=>console.log("Rebalance executed:",n)}),y==="risk"&&e.jsx(Le,{portfolioValue:c.totalValue,holdings:c.holdings,timeframe:g,onRiskAlert:n=>console.log("Risk alert:",n)}),y==="yield"&&e.jsx(De,{portfolioValue:c.totalValue,availableAssets:c.holdings.map(n=>n.symbol),onInvest:(n,m)=>console.log("Investment:",n,m)}),y==="ai"&&e.jsx(Pe,{portfolioValue:c.totalValue,holdings:c.holdings,riskProfile:"moderate",onActionTaken:(n,m)=>console.log("Action taken:",n,m)})]})]})})};export{He as default};
